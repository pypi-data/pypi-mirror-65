this.dash_resumable_upload=function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p='',t(0)}([function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0}),t.Upload=void 0;var a=r(1),i=n(a);t.Upload=i.default},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return!t||'object'!=typeof t&&'function'!=typeof t?e:t}function s(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(6),u=n(l),p=r(3),f=n(p),c=r(5),d=n(c),h=function(e){function t(e){a(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={progressBar:0,messageStatus:'',fileList:{files:[]},isPaused:!1,isUploading:!1,isHovered:!1,isComplete:!1},r.toggleHovered=r.toggleHovered.bind(r),r.cancelUpload=r.cancelUpload.bind(r),r.pauseUpload=r.pauseUpload.bind(r),r.startUpload=r.startUpload.bind(r),r.resumable=null,r}return s(t,e),o(t,[{key:'componentDidMount',value:function(){var e=this,t=new d.default({target:this.props.service,query:{},fileType:this.props.filetypes,maxFiles:this.props.maxFiles,maxFileSize:this.props.maxFileSize,fileTypeErrorCallback:function(){e.setState({messageStatus:'Invalid file type!'})},testMethod:'post',testChunks:!1,headers:{},chunkSize:this.props.chunkSize,simultaneousUploads:this.props.simultaneousUploads,forceChunkSize:!1});t.assignBrowse(this.uploader),this.props.disableDragAndDrop===!1&&t.assignDrop(this.dropZone),t.on('fileAdded',function(r){e.setState({messageStatus:e.props.fileAddedMessage||' Starting upload! of '+r.fileName,isComplete:!1}),'function'==typeof e.props.onFileAdded?e.props.onFileAdded(r,e.resumable):t.upload()}),t.on('fileSuccess',function(t,r){if(e.props.fileNameServer){var n=JSON.parse(r);t.fileName=n[e.props.fileNameServer]}else t.fileName=r;var a=e.state.fileList.files;a.push(t);var i=e.props.fileNames;i.push(t.fileName),e.props.setProps&&e.props.setProps({fileNames:i}),e.setState({fileList:{files:a},isComplete:!0,messageStatus:e.props.completedMessage+t.fileName||r},function(){'function'==typeof e.props.onFileSuccess&&e.props.onFileSuccess(t,r)})}),t.on('progress',function(){e.setState({isUploading:t.isUploading()}),100*t.progress()<100?e.setState({messageStatus:parseInt(100*t.progress(),10)+'%',progressBar:100*t.progress()}):setTimeout(function(){e.setState({progressBar:0})},1e3)}),t.on('fileError',function(t,r){e.props.onUploadErrorCallback(t,r)}),this.resumable=t}},{key:'cancelUpload',value:function(){this.resumable.cancel(),this.setState({fileList:{files:[]}})}},{key:'pauseUpload',value:function(){this.state.isPaused?(this.resumable.upload(),this.setState({isPaused:!1,isUploading:!0})):(this.resumable.pause(),this.setState({isPaused:!0,isUploading:!0}))}},{key:'startUpload',value:function(){this.setState({isPaused:!1})}},{key:'toggleHovered',value:function(){this.setState({isHovered:!this.state.isHovered})}},{key:'render',value:function(){var e=this,t=null,r=null;this.props.textLabel&&(r=this.props.textLabel);var n=null;this.props.startButton&&(n='string'==typeof this.props.startButton||'boolean'==typeof this.props.startButton?u.default.createElement('label',null,u.default.createElement('button',{disabled:this.state.isUploading,className:'resumable-btn-start',onClick:this.startUpload},this.props.startButton&&'upload')):this.props.startButton);var a=null;this.props.cancelButton&&(a='string'==typeof this.props.cancelButton||'boolean'==typeof this.props.cancelButton?u.default.createElement('label',null,u.default.createElement('button',{disabled:!this.state.isUploading,className:'resumable-btn-cancel',onClick:this.cancelUpload},this.props.cancelButton&&'cancel')):this.props.cancelButton);var i=null;this.props.pauseButton&&(i='string'==typeof this.props.pauseButton||'boolean'==typeof this.props.pauseButton?u.default.createElement('label',null,u.default.createElement('button',{disabled:!this.state.isUploading,className:'resumable-btn-pause',onClick:this.pauseUpload},this.props.pauseButton&&(this.state.isPaused?'resume':'pause'))):this.props.pauseButton);var s=function(){return e.state.isComplete?e.props.completeStyle:e.state.isHovered||e.state.isUploading?e.props.activeStyle:e.props.defaultStyle},o=function(){return e.props.disabledInput?e.props.disableClass:e.state.isHovered?e.props.hoveredClass:e.state.isUploading?e.props.uploadingClass:e.state.isComplete?e.props.completeClass:e.state.isPaused?e.props.completeClass:e.props.className};return u.default.createElement('div',{id:this.props.id,className:o(),ref:function(t){return e.dropZone=t}},u.default.createElement('label',{style:s(),onMouseEnter:this.toggleHovered,onMouseLeave:this.toggleHovered},''==this.state.messageStatus?r:this.state.messageStatus,u.default.createElement('input',{ref:function(t){return e.uploader=t},type:'file',className:'btn',name:this.props.id+'-upload',accept:this.props.fileAccept||'*',disabled:this.props.disableInput||!1,style:{opacity:'0',width:'0.1px%',height:'0.1px%',position:'absolute',overflow:'hidden','z-index':'-1'}})),u.default.createElement('div',{className:'progress',style:{display:0===this.state.progressBar?'none':'block'}},u.default.createElement('div',{className:'progress-bar',style:{width:this.state.progressBar+'%',height:'100%'}})),t,n,i,a)}}]),t}(l.Component);t.default=h,h.propTypes={maxFiles:f.default.number,maxFileSize:f.default.number,chunkSize:f.default.number,simultaneousUploads:f.default.number,service:f.default.string,className:f.default.string,hoveredClass:f.default.string,disabledClass:f.default.string,pausedClass:f.default.string,completeClass:f.default.string,uploadingClass:f.default.string,defaultStyle:f.default.object,activeStyle:f.default.object,completeStyle:f.default.object,textLabel:f.default.string,completedMessage:f.default.string,fileNames:f.default.arrayOf(f.default.string),filetypes:f.default.arrayOf(f.default.string),startButton:f.default.bool,pauseButton:f.default.bool,cancelButton:f.default.bool,disableDragAndDrop:f.default.bool,setProps:f.default.func,id:f.default.string},h.defaultProps={maxFiles:1,maxFileSize:10485760,chunkSize:1048576,simultaneuosUploads:1,service:'/upload',className:'resumable-default',hoveredClass:'resumable-hovered',completeClass:'resumable-complete',disabledClass:'resumable-disabled',pausedClass:'resumable-paused',uploadingClass:'resumable-uploading',defaultStyle:{},activeStyle:{},completeStyle:{},textLabel:'Click Here to Select a File',completedMessage:'Complete! ',fileNames:[],filetypes:void 0,startButton:!0,pauseButton:!0,cancelButton:!0,disableDragAndDrop:!1,id:'default-uploader-id'}},function(e,t,r){'use strict';function n(){}function a(){}var i=r(4);a.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,a,s){if(s!==i){var o=new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types');throw o.name='Invariant Violation',o}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return r.PropTypes=r,r}},function(e,t,r){e.exports=r(2)()},function(e,t){'use strict';var r='SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';e.exports=r},function(e,t,r){!function(){'use strict';var t=function(e){function r(e,t,r,n){var i;return e.isFile?e.file(function(e){e.relativePath=t+e.name,r.push(e),n()}):(e.isDirectory?i=e:e instanceof File&&r.push(e),'function'==typeof e.webkitGetAsEntry&&(i=e.webkitGetAsEntry()),i&&i.isDirectory?a(i,t+i.name+'/',r,n):('function'==typeof e.getAsFile&&(e=e.getAsFile(),e instanceof File&&(e.relativePath=t+e.name,r.push(e))),void n()))}function n(e,t){return e&&0!==e.length?void e[0](function(){n(e.slice(1),t)}):t()}function a(e,t,a,i){var s=e.createReader();s.readEntries(function(e){return e.length?void n(e.map(function(e){return r.bind(null,e,t,a)}),i):i()})}function i(e,t){if(e.length){l.fire('beforeAdd');var a=[];n(Array.prototype.map.call(e,function(e){return r.bind(null,e,'',a)}),function(){a.length&&c(a,t)})}}function s(e,t,r){var n=this;n.opts={},n.getOpt=e.getOpt,n._prevProgress=0,n.resumableObj=e,n.file=t,n.fileName=t.fileName||t.name,n.size=t.size,n.relativePath=t.relativePath||t.webkitRelativePath||n.fileName,n.uniqueIdentifier=r,n._pause=!1,n.container='';var a=void 0!==r,i=function(e,t){switch(e){case'progress':n.resumableObj.fire('fileProgress',n,t);break;case'error':n.abort(),a=!0,n.chunks=[],n.resumableObj.fire('fileError',n,t);break;case'success':if(a)return;n.resumableObj.fire('fileProgress',n),n.isComplete()&&n.resumableObj.fire('fileSuccess',n,t);break;case'retry':n.resumableObj.fire('fileRetry',n)}};return n.chunks=[],n.abort=function(){var e=0;u.each(n.chunks,function(t){'uploading'==t.status()&&(t.abort(),e++)}),e>0&&n.resumableObj.fire('fileProgress',n)},n.cancel=function(){var e=n.chunks;n.chunks=[],u.each(e,function(e){'uploading'==e.status()&&(e.abort(),n.resumableObj.uploadNextChunk())}),n.resumableObj.removeFile(n),n.resumableObj.fire('fileProgress',n)},n.retry=function(){n.bootstrap();var e=!1;n.resumableObj.on('chunkingComplete',function(){e||n.resumableObj.upload(),e=!0})},n.bootstrap=function(){n.abort(),a=!1,n.chunks=[],n._prevProgress=0;for(var e=n.getOpt('forceChunkSize')?Math.ceil:Math.floor,t=Math.max(e(n.file.size/n.getOpt('chunkSize')),1),r=0;r<t;r++)!function(e){window.setTimeout(function(){n.chunks.push(new o(n.resumableObj,n,e,i)),n.resumableObj.fire('chunkingProgress',n,e/t)},0)}(r);window.setTimeout(function(){n.resumableObj.fire('chunkingComplete',n)},0)},n.progress=function(){if(a)return 1;var e=0,t=!1;return u.each(n.chunks,function(r){'error'==r.status()&&(t=!0),e+=r.progress(!0)}),e=t?1:e>.99999?1:e,e=Math.max(n._prevProgress,e),n._prevProgress=e,e},n.isUploading=function(){var e=!1;return u.each(n.chunks,function(t){if('uploading'==t.status())return e=!0,!1}),e},n.isComplete=function(){var e=!1;return u.each(n.chunks,function(t){var r=t.status();if('pending'==r||'uploading'==r||1===t.preprocessState)return e=!0,!1}),!e},n.pause=function(e){'undefined'==typeof e?n._pause=!n._pause:n._pause=e},n.isPaused=function(){return n._pause},n.resumableObj.fire('chunkingStart',n),n.bootstrap(),this}function o(e,t,r,n){var a=this;a.opts={},a.getOpt=e.getOpt,a.resumableObj=e,a.fileObj=t,a.fileObjSize=t.size,a.fileObjType=t.file.type,a.offset=r,a.callback=n,a.lastProgressCallback=new Date,a.tested=!1,a.retries=0,a.pendingRetry=!1,a.preprocessState=0;var i=a.getOpt('chunkSize');return a.loaded=0,a.startByte=a.offset*i,a.endByte=Math.min(a.fileObjSize,(a.offset+1)*i),a.fileObjSize-a.endByte<i&&!a.getOpt('forceChunkSize')&&(a.endByte=a.fileObjSize),a.xhr=null,a.test=function(){a.xhr=new XMLHttpRequest;var e=function(e){a.tested=!0;var t=a.status();'success'==t?(a.callback(t,a.message()),a.resumableObj.uploadNextChunk()):a.send()};a.xhr.addEventListener('load',e,!1),a.xhr.addEventListener('error',e,!1),a.xhr.addEventListener('timeout',e,!1);var t=[],r=a.getOpt('parameterNamespace'),n=a.getOpt('query');'function'==typeof n&&(n=n(a.fileObj,a)),u.each(n,function(e,n){t.push([encodeURIComponent(r+e),encodeURIComponent(n)].join('='))}),t=t.concat([['chunkNumberParameterName',a.offset+1],['chunkSizeParameterName',a.getOpt('chunkSize')],['currentChunkSizeParameterName',a.endByte-a.startByte],['totalSizeParameterName',a.fileObjSize],['typeParameterName',a.fileObjType],['identifierParameterName',a.fileObj.uniqueIdentifier],['fileNameParameterName',a.fileObj.fileName],['relativePathParameterName',a.fileObj.relativePath],['totalChunksParameterName',a.fileObj.chunks.length]].filter(function(e){return a.getOpt(e[0])}).map(function(e){return[r+a.getOpt(e[0]),encodeURIComponent(e[1])].join('=')})),a.xhr.open(a.getOpt('testMethod'),u.getTarget('test',t)),a.xhr.timeout=a.getOpt('xhrTimeout'),a.xhr.withCredentials=a.getOpt('withCredentials');var i=a.getOpt('headers');'function'==typeof i&&(i=i(a.fileObj,a)),u.each(i,function(e,t){a.xhr.setRequestHeader(e,t)}),a.xhr.send(null)},a.preprocessFinished=function(){a.preprocessState=2,a.send()},a.send=function(){var e=a.getOpt('preprocess');if('function'==typeof e)switch(a.preprocessState){case 0:return a.preprocessState=1,void e(a);case 1:return;case 2:}if(a.getOpt('testChunks')&&!a.tested)return void a.test();a.xhr=new XMLHttpRequest,a.xhr.upload.addEventListener('progress',function(e){new Date-a.lastProgressCallback>1e3*a.getOpt('throttleProgressCallbacks')&&(a.callback('progress'),a.lastProgressCallback=new Date),a.loaded=e.loaded||0},!1),a.loaded=0,a.pendingRetry=!1,a.callback('progress');var t=function(e){var t=a.status();if('success'==t||'error'==t)a.callback(t,a.message()),a.resumableObj.uploadNextChunk();else{a.callback('retry',a.message()),a.abort(),a.retries++;var r=a.getOpt('chunkRetryInterval');void 0!==r?(a.pendingRetry=!0,setTimeout(a.send,r)):a.send()}};a.xhr.addEventListener('load',t,!1),a.xhr.addEventListener('error',t,!1),a.xhr.addEventListener('timeout',t,!1);var r=[['chunkNumberParameterName',a.offset+1],['chunkSizeParameterName',a.getOpt('chunkSize')],['currentChunkSizeParameterName',a.endByte-a.startByte],['totalSizeParameterName',a.fileObjSize],['typeParameterName',a.fileObjType],['identifierParameterName',a.fileObj.uniqueIdentifier],['fileNameParameterName',a.fileObj.fileName],['relativePathParameterName',a.fileObj.relativePath],['totalChunksParameterName',a.fileObj.chunks.length]].filter(function(e){return a.getOpt(e[0])}).reduce(function(e,t){return e[a.getOpt(t[0])]=t[1],e},{}),n=a.getOpt('query');'function'==typeof n&&(n=n(a.fileObj,a)),u.each(n,function(e,t){r[e]=t});var i=a.fileObj.file.slice?'slice':a.fileObj.file.mozSlice?'mozSlice':a.fileObj.file.webkitSlice?'webkitSlice':'slice',s=a.fileObj.file[i](a.startByte,a.endByte,a.getOpt('setChunkTypeFromFile')?a.fileObj.file.type:''),o=null,l=[],p=a.getOpt('parameterNamespace');if('octet'===a.getOpt('method'))o=s,u.each(r,function(e,t){l.push([encodeURIComponent(p+e),encodeURIComponent(t)].join('='))});else if(o=new FormData,u.each(r,function(e,t){o.append(p+e,t),l.push([encodeURIComponent(p+e),encodeURIComponent(t)].join('='))}),'blob'==a.getOpt('chunkFormat'))o.append(p+a.getOpt('fileParameterName'),s,a.fileObj.fileName);else if('base64'==a.getOpt('chunkFormat')){var f=new FileReader;f.onload=function(e){o.append(p+a.getOpt('fileParameterName'),f.result),a.xhr.send(o)},f.readAsDataURL(s)}var c=u.getTarget('upload',l),d=a.getOpt('uploadMethod');a.xhr.open(d,c),'octet'===a.getOpt('method')&&a.xhr.setRequestHeader('Content-Type','application/octet-stream'),a.xhr.timeout=a.getOpt('xhrTimeout'),a.xhr.withCredentials=a.getOpt('withCredentials');var h=a.getOpt('headers');'function'==typeof h&&(h=h(a.fileObj,a)),u.each(h,function(e,t){a.xhr.setRequestHeader(e,t)}),'blob'==a.getOpt('chunkFormat')&&a.xhr.send(o)},a.abort=function(){a.xhr&&a.xhr.abort(),a.xhr=null},a.status=function(){return a.pendingRetry?'uploading':a.xhr?a.xhr.readyState<4?'uploading':200==a.xhr.status||201==a.xhr.status?'success':u.contains(a.getOpt('permanentErrors'),a.xhr.status)||a.retries>=a.getOpt('maxChunkRetries')?'error':(a.abort(),'pending'):'pending'},a.message=function(){return a.xhr?a.xhr.responseText:''},a.progress=function(e){'undefined'==typeof e&&(e=!1);var t=e?(a.endByte-a.startByte)/a.fileObjSize:1;if(a.pendingRetry)return 0;a.xhr&&a.xhr.status||(t*=.95);var r=a.status();switch(r){case'success':case'error':return 1*t;case'pending':return 0*t;default:return a.loaded/(a.endByte-a.startByte)*t}},this}if(!(this instanceof t))return new t(e);if(this.version=1,this.support=!('undefined'==typeof File||'undefined'==typeof Blob||'undefined'==typeof FileList||!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice&&!Blob.prototype.slice),!this.support)return!1;var l=this;l.files=[],l.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:'file',chunkNumberParameterName:'resumableChunkNumber',chunkSizeParameterName:'resumableChunkSize',currentChunkSizeParameterName:'resumableCurrentChunkSize',totalSizeParameterName:'resumableTotalSize',typeParameterName:'resumableType',identifierParameterName:'resumableIdentifier',fileNameParameterName:'resumableFilename',relativePathParameterName:'resumableRelativePath',totalChunksParameterName:'resumableTotalChunks',throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:'multipart',uploadMethod:'POST',testMethod:'GET',prioritizeFirstAndLastChunk:!1,target:'/',testTarget:null,parameterNamespace:'',testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:100,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,clearInput:!0,chunkFormat:'blob',setChunkTypeFromFile:!1,maxFilesErrorCallback:function(e,t){var r=l.getOpt('maxFiles');alert('Please upload no more than '+r+' file'+(1===r?'':'s')+' at a time.')},minFileSize:1,minFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+' is too small, please upload files larger than '+u.formatSize(l.getOpt('minFileSize'))+'.')},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+' is too large, please upload files less than '+u.formatSize(l.getOpt('maxFileSize'))+'.')},fileType:[],fileTypeErrorCallback:function(e,t){alert(e.fileName||e.name+' has type not allowed, please upload files of type '+l.getOpt('fileType')+'.')}},l.opts=e||{},l.getOpt=function(e){var r=this;if(e instanceof Array){var n={};return u.each(e,function(e){n[e]=r.getOpt(e)}),n}if(r instanceof o){if('undefined'!=typeof r.opts[e])return r.opts[e];r=r.fileObj}if(r instanceof s){if('undefined'!=typeof r.opts[e])return r.opts[e];r=r.resumableObj}if(r instanceof t)return'undefined'!=typeof r.opts[e]?r.opts[e]:r.defaults[e]},l.events=[],l.on=function(e,t){l.events.push(e.toLowerCase(),t)},l.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);for(var r=e[0].toLowerCase(),t=0;t<=l.events.length;t+=2)l.events[t]==r&&l.events[t+1].apply(l,e.slice(1)),'catchall'==l.events[t]&&l.events[t+1].apply(null,e);'fileerror'==r&&l.fire('error',e[2],e[1]),'fileprogress'==r&&l.fire('progress')};var u={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(e,t){if('undefined'!=typeof e.length){for(var r=0;r<e.length;r++)if(t(e[r])===!1)return}else for(r in e)if(t(r,e[r])===!1)return},generateUniqueIdentifier:function(e,t){var r=l.getOpt('generateUniqueIdentifier');if('function'==typeof r)return r(e,t);var n=e.webkitRelativePath||e.fileName||e.name,a=e.size;return a+'-'+n.replace(/[^0-9a-zA-Z_-]/gim,'')},contains:function(e,t){var r=!1;return u.each(e,function(e){return e!=t||(r=!0,!1)}),r},formatSize:function(e){return e<1024?e+' bytes':e<1048576?(e/1024).toFixed(0)+' KB':e<1073741824?(e/1024/1024).toFixed(1)+' MB':(e/1024/1024/1024).toFixed(1)+' GB'},getTarget:function(e,t){var r=l.getOpt('target');if('test'===e&&l.getOpt('testTarget')&&(r='/'===l.getOpt('testTarget')?l.getOpt('target'):l.getOpt('testTarget')),'function'==typeof r)return r(t);var n=r.indexOf('?')<0?'?':'&',a=t.join('&');return r+n+a}},p=function(e){u.stopEvent(e),e.dataTransfer&&e.dataTransfer.items?i(e.dataTransfer.items,e):e.dataTransfer&&e.dataTransfer.files&&i(e.dataTransfer.files,e)},f=function(e){e.preventDefault()},c=function(e,t){var r=0,n=l.getOpt(['maxFiles','minFileSize','maxFileSize','maxFilesErrorCallback','minFileSizeErrorCallback','maxFileSizeErrorCallback','fileType','fileTypeErrorCallback']);if('undefined'!=typeof n.maxFiles&&n.maxFiles<e.length+l.files.length){if(1!==n.maxFiles||1!==l.files.length||1!==e.length)return n.maxFilesErrorCallback(e,r++),!1;l.removeFile(l.files[0])}var a=[],i=[],o=e.length,p=function(){if(!--o){if(!a.length&&!i.length)return;window.setTimeout(function(){l.fire('filesAdded',a,i)},0)}};u.each(e,function(e){function o(r){l.getFromUniqueIdentifier(r)?i.push(e):!function(){e.uniqueIdentifier=r;var n=new s(l,e,r);l.files.push(n),a.push(n),n.container='undefined'!=typeof t?t.srcElement:null,window.setTimeout(function(){l.fire('fileAdded',n,t)},0)}(),p()}var f=e.name;if(n.fileType.length>0){var c=!1;for(var d in n.fileType){var h='.'+n.fileType[d];if(f.toLowerCase().indexOf(h.toLowerCase(),f.length-h.length)!==-1){c=!0;break}}if(!c)return n.fileTypeErrorCallback(e,r++),!1}if('undefined'!=typeof n.minFileSize&&e.size<n.minFileSize)return n.minFileSizeErrorCallback(e,r++),!1;if('undefined'!=typeof n.maxFileSize&&e.size>n.maxFileSize)return n.maxFileSizeErrorCallback(e,r++),!1;var m=u.generateUniqueIdentifier(e,t);m&&'function'==typeof m.then?m.then(function(e){o(e)},function(){p()}):o(m)})};return l.uploadNextChunk=function(){var e=!1;if(l.getOpt('prioritizeFirstAndLastChunk')&&(u.each(l.files,function(t){return t.chunks.length&&'pending'==t.chunks[0].status()&&0===t.chunks[0].preprocessState?(t.chunks[0].send(),e=!0,!1):t.chunks.length>1&&'pending'==t.chunks[t.chunks.length-1].status()&&0===t.chunks[t.chunks.length-1].preprocessState?(t.chunks[t.chunks.length-1].send(),e=!0,!1):void 0}),e))return!0;if(u.each(l.files,function(t){if(t.isPaused()===!1&&u.each(t.chunks,function(t){if('pending'==t.status()&&0===t.preprocessState)return t.send(),e=!0,!1}),e)return!1}),e)return!0;var t=!1;return u.each(l.files,function(e){if(!e.isComplete())return t=!0,!1}),t||l.fire('complete'),!1},l.assignBrowse=function(e,t){'undefined'==typeof e.length&&(e=[e]),u.each(e,function(e){var r;'INPUT'===e.tagName&&'file'===e.type?r=e:(r=document.createElement('input'),r.setAttribute('type','file'),r.style.display='none',e.addEventListener('click',function(){r.style.opacity=0,r.style.display='block',r.focus(),r.click(),r.style.display='none'},!1),e.appendChild(r));var n=l.getOpt('maxFiles');'undefined'==typeof n||1!=n?r.setAttribute('multiple','multiple'):r.removeAttribute('multiple'),t?r.setAttribute('webkitdirectory','webkitdirectory'):r.removeAttribute('webkitdirectory');var a=l.getOpt('fileType');'undefined'!=typeof a&&a.length>=1?r.setAttribute('accept',a.map(function(e){return'.'+e}).join(',')):r.removeAttribute('accept'),r.addEventListener('change',function(e){c(e.target.files,e);var t=l.getOpt('clearInput');t&&(e.target.value='')},!1)})},l.assignDrop=function(e){'undefined'==typeof e.length&&(e=[e]),u.each(e,function(e){e.addEventListener('dragover',f,!1),e.addEventListener('dragenter',f,!1),e.addEventListener('drop',p,!1)})},l.unAssignDrop=function(e){'undefined'==typeof e.length&&(e=[e]),u.each(e,function(e){e.removeEventListener('dragover',f),e.removeEventListener('dragenter',f),e.removeEventListener('drop',p)})},l.isUploading=function(){var e=!1;return u.each(l.files,function(t){if(t.isUploading())return e=!0,!1}),e},l.upload=function(){if(!l.isUploading()){l.fire('uploadStart');for(var e=1;e<=l.getOpt('simultaneousUploads');e++)l.uploadNextChunk()}},l.pause=function(){u.each(l.files,function(e){e.abort()}),l.fire('pause')},l.cancel=function(){l.fire('beforeCancel');for(var e=l.files.length-1;e>=0;e--)l.files[e].cancel();l.fire('cancel')},l.progress=function(){var e=0,t=0;return u.each(l.files,function(r){e+=r.progress()*r.size,t+=r.size}),t>0?e/t:0},l.addFile=function(e,t){c([e],t)},l.addFiles=function(e,t){c(e,t)},l.removeFile=function(e){for(var t=l.files.length-1;t>=0;t--)l.files[t]===e&&l.files.splice(t,1)},l.getFromUniqueIdentifier=function(e){var t=!1;return u.each(l.files,function(r){r.uniqueIdentifier==e&&(t=r)}),t},l.getSize=function(){var e=0;return u.each(l.files,function(t){e+=t.size}),e},l.handleDropEvent=function(e){p(e)},l.handleChangeEvent=function(e){c(e.target.files,e),e.target.value=''},l.updateQuery=function(e){l.opts.query=e},this};e.exports=t}()},function(e,t){!function(){e.exports=this.React}()}]);