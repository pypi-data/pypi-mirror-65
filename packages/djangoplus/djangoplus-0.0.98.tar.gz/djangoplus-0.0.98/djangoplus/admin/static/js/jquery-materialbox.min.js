!function(e){e.fn.materialbox=function(){return this.each(function(){function t(){n=!1;var t=d.parent(".material-placeholder"),a=(window.innerWidth,window.innerHeight,d.data("width")),s=d.data("height");d.velocity("stop",!0),e("#materialbox-overlay").velocity("stop",!0),e(".materialbox-caption").velocity("stop",!0),e("#materialbox-overlay").velocity({opacity:0},{duration:l,queue:!1,easing:"easeOutQuad",complete:function(){o=!1,e(this).remove()}}),d.velocity({width:a,height:s,left:0,top:0},{duration:l,queue:!1,easing:"easeOutQuad"}),e(".materialbox-caption").velocity({opacity:0},{duration:l,queue:!1,easing:"easeOutQuad",complete:function(){t.css({height:"",width:"",position:"",top:"",left:""}),d.css({height:"",top:"",left:"",width:"","max-width":"",position:"","z-index":""}),d.removeClass("active"),n=!0,e(this).remove(),i&&i.css("overflow","")}})}if(!e(this).hasClass("initialized")){e(this).addClass("initialized");var i,a,o=!1,n=!0,l=200,d=e(this),s=e("<div></div>").addClass("material-placeholder");d.wrap(s),d.on("click",function(){var l=d.parent(".material-placeholder"),s=window.innerWidth,c=window.innerHeight,r=d.width(),u=d.height();if(!1===n)return t(),!1;if(o&&!0===n)return t(),!1;n=!1,d.addClass("active"),o=!0,l.css({width:l[0].getBoundingClientRect().width,height:l[0].getBoundingClientRect().height,position:"relative",top:0,left:0}),i=void 0,a=l[0].parentNode;for(;null!==a&&!e(a).is(document);){var p=e(a);"visible"!==p.css("overflow")&&(p.css("overflow","visible"),i=void 0===i?p:i.add(p)),a=a.parentNode}d.css({position:"absolute","z-index":1e3}).data("width",r).data("height",u);var h=e('<div id="materialbox-overlay"></div>').css({opacity:0}).click(function(){!0===n&&t()});if(d.before(h),h.velocity({opacity:1},{duration:275,queue:!1,easing:"easeOutQuad"}),""!==d.data("caption")){var f=e('<div class="materialbox-caption"></div>');f.text(d.data("caption")),e("body").append(f),f.css({display:"inline"}),f.velocity({opacity:1},{duration:275,queue:!1,easing:"easeOutQuad"})}var v=0,m=0;r/s>u/c?(v=.9*s,m=.9*s*(u/r)):(v=.9*c*(r/u),m=.9*c),d.hasClass("responsive-img")?d.velocity({"max-width":v,width:r},{duration:0,queue:!1,complete:function(){d.css({left:0,top:0}).velocity({height:m,width:v,left:e(document).scrollLeft()+s/2-d.parent(".material-placeholder").offset().left-v/2,top:e(document).scrollTop()+c/2-d.parent(".material-placeholder").offset().top-m/2},{duration:275,queue:!1,easing:"easeOutQuad",complete:function(){n=!0}})}}):d.css("left",0).css("top",0).velocity({height:m,width:v,left:e(document).scrollLeft()+s/2-d.parent(".material-placeholder").offset().left-v/2,top:e(document).scrollTop()+c/2-d.parent(".material-placeholder").offset().top-m/2},{duration:275,queue:!1,easing:"easeOutQuad",complete:function(){n=!0}})}),e(window).scroll(function(){o&&t()}),e(document).keyup(function(e){27===e.keyCode&&!0===n&&o&&t()})}})},e(document).ready(function(){e(".materialboxed").materialbox()})}(jQuery);