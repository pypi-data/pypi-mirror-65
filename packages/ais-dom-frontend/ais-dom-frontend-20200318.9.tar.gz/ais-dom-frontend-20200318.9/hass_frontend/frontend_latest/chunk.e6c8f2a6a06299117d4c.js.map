{"version":3,"sources":["webpack:///./src/panels/lovelace/cards/hui-iframe-card.ts"],"names":["HuiIframeCard","_decorate","customElement","_initialize","_LitElement","F","[object Object]","args","super","this","d","kind","static","key","value","async","Promise","all","__webpack_require__","e","then","bind","document","createElement","url","aspect_ratio","decorators","property","_config","Number","replace","config","Error","html","aspectRatio","title","styleMap","padding-top","css","LitElement"],"mappings":"62CAiBO,IAAMA,80LAAbC,CAAA,CADCC,YAAc,oBACf,SAAAC,EAAAC,GAAA,OAAAC,EADA,cAAAD,EACsEE,eAAAC,GAAAC,SAAAD,GAAAJ,EAAAM,QAAtEC,EAAA,EAAAC,KAAA,SAAAC,QAAA,EAAAC,IAAA,mBAAAC,MACEC,iBAIE,aAHMC,QAAAC,IAAA,CAAAC,EAAAC,EAAA,GAAAD,EAAAC,EAAA,KAAAD,EAAAC,EAAA,MAAAC,KAAAF,EAAAG,KAAA,WAGCC,SAASC,cAAc,4BALlC,CAAAZ,KAAA,SAAAC,QAAA,EAAAC,IAAA,gBAAAC,MAOE,WACE,MAAO,CAAEU,IAAK,gCAAiCC,aAAc,SARjE,CAAAd,KAAA,QAAAe,WAAA,CAWGC,eAXHd,IAAA,UAAAC,WAAA,IAAAH,KAAA,SAAAE,IAAA,cAAAC,MAaE,WACE,IAAKL,KAAKmB,QACR,OAAO,EAKT,OAAO,GAHanB,KAAKmB,QAAQH,aAC7BI,OAAOpB,KAAKmB,QAAQH,aAAaK,QAAQ,IAAK,KAC9C,IACqB,KApB7B,CAAAnB,KAAA,SAAAE,IAAA,YAAAC,MAuBE,SAAiBiB,GACf,IAAKA,EAAOP,IACV,MAAM,IAAIQ,MAAM,gBAGlBvB,KAAKmB,QAAUG,IA5BnB,CAAApB,KAAA,SAAAE,IAAA,SAAAC,MA+BE,WACE,IAAKL,KAAKmB,QACR,OAAOK,MAGT,MAAMC,EAAczB,KAAKmB,QAAQH,cAAgB,MAEjD,OAAOQ;0BACexB,KAAKmB,QAAQO;;;mBAGpBC,YAAS,CAChBC,cAAeH;;yBAGFzB,KAAKmB,QAAQJ;;;QA9CtC,CAAAb,KAAA,MAAAC,QAAA,EAAAC,IAAA,SAAAC,MAoDE,WACE,OAAOwB;;;;;;;;;;;;;;;;;;WArDwBC","file":"chunk.e6c8f2a6a06299117d4c.js","sourcesContent":["import {\n  html,\n  LitElement,\n  TemplateResult,\n  customElement,\n  property,\n  css,\n  CSSResult,\n} from \"lit-element\";\n\nimport \"../../../components/ha-card\";\n\nimport { LovelaceCard, LovelaceCardEditor } from \"../types\";\nimport { styleMap } from \"lit-html/directives/style-map\";\nimport { IframeCardConfig } from \"./types\";\n\n@customElement(\"hui-iframe-card\")\nexport class HuiIframeCard extends LitElement implements LovelaceCard {\n  public static async getConfigElement(): Promise<LovelaceCardEditor> {\n    await import(\n      /* webpackChunkName: \"hui-iframe-card-editor\" */ \"../editor/config-elements/hui-iframe-card-editor\"\n    );\n    return document.createElement(\"hui-iframe-card-editor\");\n  }\n  public static getStubConfig(): object {\n    return { url: \"https://www.home-assistant.io\", aspect_ratio: \"50%\" };\n  }\n\n  @property() protected _config?: IframeCardConfig;\n\n  public getCardSize(): number {\n    if (!this._config) {\n      return 3;\n    }\n    const aspectRatio = this._config.aspect_ratio\n      ? Number(this._config.aspect_ratio.replace(\"%\", \"\"))\n      : 50;\n    return 1 + aspectRatio / 25;\n  }\n\n  public setConfig(config: IframeCardConfig): void {\n    if (!config.url) {\n      throw new Error(\"URL required\");\n    }\n\n    this._config = config;\n  }\n\n  protected render(): TemplateResult {\n    if (!this._config) {\n      return html``;\n    }\n\n    const aspectRatio = this._config.aspect_ratio || \"50%\";\n\n    return html`\n      <ha-card .header=\"${this._config.title}\">\n        <div\n          id=\"root\"\n          style=\"${styleMap({\n            \"padding-top\": aspectRatio,\n          })}\"\n        >\n          <iframe src=\"${this._config.url}\"></iframe>\n        </div>\n      </ha-card>\n    `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      ha-card {\n        overflow: hidden;\n      }\n\n      #root {\n        width: 100%;\n        position: relative;\n      }\n\n      iframe {\n        position: absolute;\n        border: none;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-iframe-card\": HuiIframeCard;\n  }\n}\n"],"sourceRoot":""}