{"version":3,"sources":["webpack:///./src/components/ha-fab.ts","webpack:///src/mwc-fab-base.ts","webpack:///src/mwc-fab-css.ts","webpack:///src/mwc-fab.ts","webpack:///./src/panels/lovelace/editor/select-view/show-select-view-dialog.ts","webpack:///./src/panels/lovelace/editor/card-editor/show-suggest-card-dialog.ts","webpack:///./src/panels/lovelace/editor/add-entities-to-view.ts","webpack:///./src/panels/lovelace/editor/unused-entities/hui-unused-entities.ts"],"names":["MwcFab","customElements","get","_decorate","customElement","_initialize","_MwcFab","F","[object Object]","args","super","this","d","kind","key","value","classes","mdc-fab--mini","mini","mdc-fab--exited","exited","mdc-fab--extended","extended","showLabel","label","html","ripple","classMap","disabled","icon","showIconAtEnd","mwc_fab_base_FabBase","lit_element","attachShadow","mode","delegatesFocus","iconTemplate","Object","class_map","ripple_directive","tslib_es6","type","Boolean","style","mwc_fab_Fab","styles","importsuggestCardDialog","Promise","all","__webpack_require__","e","then","bind","showSuggestCardDialog","element","suggestCardDialogParams","fireEvent","dialogTag","dialogImport","dialogParams","__webpack_exports__","addEntitiesToLovelaceView","async","hass","entities","lovelaceConfig","saveConfigFunc","_ref","_panels$lovelace","panels","lovelace","config","fetchConfig","connection","alert","localize","views","length","saveConfig","newConfig","selectViewDialogParams","showSelectViewDialog","viewSelectedCallback","view","path","HuiUnusedEntities","_LitElement","decorators","property","memoizeOne","narrow","columns","title","template","_icon","entity","_handleEntityClicked","stateObj","name","sortable","filterable","grows","direction","entity_id","width","domain","last_changed","lastChanged","changedProperties","_get","_getPrototypeOf","prototype","call","has","_getUnusedEntities","editMode","_columns","_unusedEntities","map","states","computeStateName","computeDomain","_handleSelectionChanged","rtl","computeRTL","_addToLovelaceView","_selectedEntities","computeUnusedEntities","_config","ev","detail","entityId","target","closest","rowId","static","css","LitElement"],"mappings":"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","file":"chunk.99c63d8ba9b50624145d.js","sourcesContent":["import { classMap } from \"lit-html/directives/class-map\";\nimport { html, customElement } from \"lit-element\";\nimport { ripple } from \"@material/mwc-ripple/ripple-directive\";\n\nimport \"@material/mwc-fab\";\nimport { Constructor } from \"../types\";\n// tslint:disable-next-line\nimport { Fab } from \"@material/mwc-fab\";\n// tslint:disable-next-line\nconst MwcFab = customElements.get(\"mwc-fab\") as Constructor<Fab>;\n\n@customElement(\"ha-fab\")\nexport class HaFab extends MwcFab {\n  // We override the render method because we don't have an icon font and mwc-fab doesn't support our svg-icon sets.\n  // Based on version mwc-fab 0.8\n  protected render() {\n    const classes = {\n      \"mdc-fab--mini\": this.mini,\n      \"mdc-fab--exited\": this.exited,\n      \"mdc-fab--extended\": this.extended,\n    };\n    const showLabel = this.label !== \"\" && this.extended;\n    return html`\n      <button\n        .ripple=\"${ripple()}\"\n        class=\"mdc-fab ${classMap(classes)}\"\n        ?disabled=\"${this.disabled}\"\n        aria-label=\"${this.label || this.icon}\"\n      >\n        ${showLabel && this.showIconAtEnd ? this.label : \"\"}\n        ${this.icon\n          ? html`\n              <ha-icon .icon=${this.icon}></ha-icon>\n            `\n          : \"\"}\n        ${showLabel && !this.showIconAtEnd ? this.label : \"\"}\n      </button>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-fab\": HaFab;\n  }\n}\n","/**\n@license\nCopyright 2018 Google Inc. All Rights Reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport {ripple} from '@material/mwc-ripple/ripple-directive.js';\nimport {html, LitElement, property, TemplateResult} from 'lit-element';\nimport {classMap} from 'lit-html/directives/class-map';\n\nexport class FabBase extends LitElement {\n  @property({type: Boolean}) mini = false;\n\n  @property({type: Boolean}) exited = false;\n\n  @property({type: Boolean}) disabled = false;\n\n  @property({type: Boolean}) extended = false;\n\n  @property({type: Boolean}) showIconAtEnd = false;\n\n  @property() icon = '';\n\n  @property() label = '';\n\n  protected createRenderRoot() {\n    return this.attachShadow({mode: 'open', delegatesFocus: true});\n  }\n\n  protected render() {\n    const classes = {\n      'mdc-fab--mini': this.mini,\n      'mdc-fab--exited': this.exited,\n      'mdc-fab--extended': this.extended,\n    };\n    const showLabel = this.label !== '' && this.extended;\n\n    let iconTemplate: TemplateResult|string = '';\n\n    if (this.icon) {\n      iconTemplate = html`\n        <span class=\"material-icons mdc-fab__icon\">${this.icon}</span>`;\n    }\n\n    let label = html``;\n\n    if (showLabel) {\n      label = html`<span class=\"mdc-fab__label\">${this.label}</span>`;\n    }\n\n    return html`\n      <button\n          class=\"mdc-fab ${classMap(classes)}\"\n          ?disabled=\"${this.disabled}\"\n          aria-label=\"${this.label || this.icon}\"\n          .ripple=\"${ripple()}\">\n        <div class=\"mdc-fab__ripple\"></div>\n        ${this.showIconAtEnd ? label : ''}\n        ${iconTemplate}\n        ${!this.showIconAtEnd ? label : ''}\n      </button>`;\n  }\n}\n","/**\n@license\nCopyright 2018 Google Inc. All Rights Reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport {css} from 'lit-element';\n\nexport const style = css`.material-icons{font-family:var(--mdc-icon-font, \"Material Icons\");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:\"liga\"}.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;opacity:0;pointer-events:none;transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:#fff}.mdc-fab{position:relative;box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0,0,0,.12);display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);background-color:#018786;background-color:var(--mdc-theme-secondary, #018786);color:#fff;color:var(--mdc-theme-on-secondary, #fff)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover,.mdc-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12)}.mdc-fab:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 12px 17px 2px rgba(0, 0, 0, 0.14),0px 5px 22px 4px rgba(0,0,0,.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{font-family:Roboto, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:2.25rem;font-weight:500;letter-spacing:.0892857143em;text-decoration:none;text-transform:uppercase;border-radius:24px;padding:0 20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:-8px;margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:-8px}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:-8px}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:-8px;margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;right:0;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-fab{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-fab .mdc-fab__ripple::before,.mdc-fab .mdc-fab__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}.mdc-fab .mdc-fab__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-fab.mdc-ripple-upgraded .mdc-fab__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-fab.mdc-ripple-upgraded .mdc-fab__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-fab.mdc-ripple-upgraded--unbounded .mdc-fab__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-fab.mdc-ripple-upgraded--foreground-activation .mdc-fab__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-fab.mdc-ripple-upgraded--foreground-deactivation .mdc-fab__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-fab .mdc-fab__ripple::before,.mdc-fab .mdc-fab__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-fab.mdc-ripple-upgraded .mdc-fab__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-fab .mdc-fab__ripple::before,.mdc-fab .mdc-fab__ripple::after{background-color:#fff;background-color:var(--mdc-theme-on-secondary, #fff)}.mdc-fab:hover .mdc-fab__ripple::before{opacity:.08}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__ripple::before,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__ripple::before{transition-duration:75ms;opacity:.24}.mdc-fab:not(.mdc-ripple-upgraded) .mdc-fab__ripple::after{transition:opacity 150ms linear}.mdc-fab:not(.mdc-ripple-upgraded):active .mdc-fab__ripple::after{transition-duration:75ms;opacity:.24}.mdc-fab.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.24}.mdc-fab .mdc-fab__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden}:host{outline:none}.mdc-fab{box-shadow:var(--mdc-fab-box-shadow, 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12))}.mdc-fab:hover,.mdc-fab:focus{box-shadow:var(--mdc-fab-box-shadow-hover, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mdc-fab:active{box-shadow:var(--mdc-fab-box-shadow-active, 0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12))}`;\n","/**\n@license\nCopyright 2018 Google Inc. All Rights Reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport {customElement} from 'lit-element';\n\nimport {FabBase} from './mwc-fab-base.js';\nimport {style} from './mwc-fab-css.js';\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'mwc-fab': Fab;\n  }\n}\n\n@customElement('mwc-fab')\nexport class Fab extends FabBase {\n  static styles = style;\n}\n","import { fireEvent } from \"../../../../common/dom/fire_event\";\nimport { LovelaceConfig } from \"../../../../data/lovelace\";\n\nexport interface SelectViewDialogParams {\n  lovelaceConfig: LovelaceConfig;\n  viewSelectedCallback: (view: number) => void;\n}\n\nexport const showSelectViewDialog = (\n  element: HTMLElement,\n  selectViewDialogParams: SelectViewDialogParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"hui-dialog-select-view\",\n    dialogImport: () =>\n      import(\n        /* webpackChunkName: \"hui-dialog-select-view\" */ \"./hui-dialog-select-view\"\n      ),\n    dialogParams: selectViewDialogParams,\n  });\n};\n","import { fireEvent } from \"../../../../common/dom/fire_event\";\nimport { LovelaceConfig, LovelaceCardConfig } from \"../../../../data/lovelace\";\n\nexport interface SuggestCardDialogParams {\n  lovelaceConfig?: LovelaceConfig;\n  saveConfig?: (config: LovelaceConfig) => void;\n  path?: [number];\n  entities: string[]; // We can pass entity id's that will be added to the config when a card is picked\n  cardConfig?: LovelaceCardConfig[]; // We can pass a suggested config\n}\n\nconst importsuggestCardDialog = () =>\n  import(\n    /* webpackChunkName: \"hui-dialog-suggest-card\" */ \"./hui-dialog-suggest-card\"\n  );\n\nexport const showSuggestCardDialog = (\n  element: HTMLElement,\n  suggestCardDialogParams: SuggestCardDialogParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"hui-dialog-suggest-card\",\n    dialogImport: importsuggestCardDialog,\n    dialogParams: suggestCardDialogParams,\n  });\n};\n","import { HomeAssistant } from \"../../../types\";\nimport {\n  LovelaceConfig,\n  fetchConfig,\n  saveConfig,\n} from \"../../../data/lovelace\";\nimport { showSelectViewDialog } from \"./select-view/show-select-view-dialog\";\nimport { showSuggestCardDialog } from \"./card-editor/show-suggest-card-dialog\";\n\nexport const addEntitiesToLovelaceView = async (\n  element: HTMLElement,\n  hass: HomeAssistant,\n  entities: string[],\n  lovelaceConfig?: LovelaceConfig,\n  saveConfigFunc?: (newConfig: LovelaceConfig) => void\n) => {\n  if ((hass!.panels.lovelace?.config as any)?.mode === \"yaml\") {\n    showSuggestCardDialog(element, {\n      entities,\n    });\n    return;\n  }\n  if (!lovelaceConfig) {\n    try {\n      lovelaceConfig = await fetchConfig(hass.connection, null, false);\n    } catch {\n      alert(\n        hass.localize(\n          \"ui.panel.lovelace.editor.add_entities.generated_unsupported\"\n        )\n      );\n      return;\n    }\n  }\n  if (!lovelaceConfig.views.length) {\n    alert(\n      \"You don't have any Lovelace views, first create a view in Lovelace.\"\n    );\n    return;\n  }\n  if (!saveConfigFunc) {\n    saveConfigFunc = async (newConfig: LovelaceConfig): Promise<void> => {\n      try {\n        await saveConfig(hass!, null, newConfig);\n      } catch {\n        alert(\n          hass.localize(\"ui.panel.config.devices.add_entities.saving_failed\")\n        );\n      }\n    };\n  }\n  if (lovelaceConfig.views.length === 1) {\n    showSuggestCardDialog(element, {\n      lovelaceConfig: lovelaceConfig!,\n      saveConfig: saveConfigFunc,\n      path: [0],\n      entities,\n    });\n    return;\n  }\n  showSelectViewDialog(element, {\n    lovelaceConfig,\n    viewSelectedCallback: (view) => {\n      showSuggestCardDialog(element, {\n        lovelaceConfig: lovelaceConfig!,\n        saveConfig: saveConfigFunc,\n        path: [view],\n        entities,\n      });\n    },\n  });\n};\n","import {\n  html,\n  LitElement,\n  TemplateResult,\n  PropertyValues,\n  property,\n  customElement,\n  css,\n  CSSResult,\n} from \"lit-element\";\n\nimport { classMap } from \"lit-html/directives/class-map\";\n\nimport memoizeOne from \"memoize-one\";\n\nimport \"../../../../components/ha-fab\";\nimport \"../../../../components/entity/state-badge\";\nimport \"../../../../components/ha-relative-time\";\nimport \"../../../../components/ha-icon\";\n\nimport \"../../../../components/data-table/ha-data-table\";\n// tslint:disable-next-line\nimport {\n  SelectionChangedEvent,\n  DataTableColumnContainer,\n} from \"../../../../components/data-table/ha-data-table\";\n\nimport { computeStateName } from \"../../../../common/entity/compute_state_name\";\nimport { computeDomain } from \"../../../../common/entity/compute_domain\";\n\nimport { computeRTL } from \"../../../../common/util/compute_rtl\";\nimport { computeUnusedEntities } from \"../../common/compute-unused-entities\";\n\nimport { HomeAssistant } from \"../../../../types\";\nimport { Lovelace } from \"../../types\";\nimport { LovelaceConfig } from \"../../../../data/lovelace\";\nimport { fireEvent, HASSDomEvent } from \"../../../../common/dom/fire_event\";\nimport { addEntitiesToLovelaceView } from \"../add-entities-to-view\";\n\n@customElement(\"hui-unused-entities\")\nexport class HuiUnusedEntities extends LitElement {\n  @property() public lovelace?: Lovelace;\n\n  @property() public hass!: HomeAssistant;\n\n  @property() public narrow?: boolean;\n\n  @property() private _unusedEntities: string[] = [];\n\n  private _selectedEntities: string[] = [];\n\n  private get _config(): LovelaceConfig {\n    return this.lovelace!.config;\n  }\n\n  private _columns = memoizeOne((narrow: boolean) => {\n    const columns: DataTableColumnContainer = {\n      icon: {\n        title: \"\",\n        type: \"icon\",\n        template: (_icon, entity: any) => html`\n          <state-badge\n            @click=${this._handleEntityClicked}\n            .hass=${this.hass!}\n            .stateObj=${entity.stateObj}\n          ></state-badge>\n        `,\n      },\n      name: {\n        title: this.hass!.localize(\"ui.panel.lovelace.unused_entities.entity\"),\n        sortable: true,\n        filterable: true,\n        grows: true,\n        direction: \"asc\",\n        template: (name, entity: any) => html`\n          <div @click=${this._handleEntityClicked} style=\"cursor: pointer;\">\n            ${name}\n            ${narrow\n              ? html`\n                  <div class=\"secondary\">\n                    ${entity.stateObj.entity_id}\n                  </div>\n                `\n              : \"\"}\n          </div>\n        `,\n      },\n    };\n\n    if (narrow) {\n      return columns;\n    }\n\n    columns.entity_id = {\n      title: this.hass!.localize(\"ui.panel.lovelace.unused_entities.entity_id\"),\n      sortable: true,\n      filterable: true,\n      width: \"30%\",\n    };\n    columns.domain = {\n      title: this.hass!.localize(\"ui.panel.lovelace.unused_entities.domain\"),\n      sortable: true,\n      filterable: true,\n      width: \"15%\",\n    };\n    columns.last_changed = {\n      title: this.hass!.localize(\n        \"ui.panel.lovelace.unused_entities.last_changed\"\n      ),\n      type: \"numeric\",\n      sortable: true,\n      width: \"15%\",\n      template: (lastChanged: string) => html`\n        <ha-relative-time\n          .hass=${this.hass!}\n          .datetime=${lastChanged}\n        ></ha-relative-time>\n      `,\n    };\n\n    return columns;\n  });\n\n  protected updated(changedProperties: PropertyValues): void {\n    super.updated(changedProperties);\n\n    if (changedProperties.has(\"lovelace\")) {\n      this._getUnusedEntities();\n    }\n  }\n\n  protected render(): TemplateResult {\n    if (!this.hass || !this.lovelace) {\n      return html``;\n    }\n\n    if (this.lovelace.mode === \"storage\" && this.lovelace.editMode === false) {\n      return html``;\n    }\n\n    return html`\n      ${!this.narrow\n        ? html`\n            <ha-card\n              header=\"${this.hass.localize(\n                \"ui.panel.lovelace.unused_entities.title\"\n              )}\"\n            >\n              <div class=\"card-content\">\n                ${this.hass.localize(\n                  \"ui.panel.lovelace.unused_entities.available_entities\"\n                )}\n                ${this.lovelace.mode === \"storage\"\n                  ? html`\n                      <br />${this.hass.localize(\n                        \"ui.panel.lovelace.unused_entities.select_to_add\"\n                      )}\n                    `\n                  : \"\"}\n              </div>\n            </ha-card>\n          `\n        : \"\"}\n      <ha-data-table\n        .columns=${this._columns(this.narrow!)}\n        .data=${this._unusedEntities.map((entity) => {\n          const stateObj = this.hass!.states[entity];\n          return {\n            icon: \"\",\n            entity_id: entity,\n            stateObj,\n            name: computeStateName(stateObj),\n            domain: computeDomain(entity),\n            last_changed: stateObj!.last_changed,\n          };\n        })}\n        .id=${\"entity_id\"}\n        selectable\n        @selection-changed=${this._handleSelectionChanged}\n      ></ha-data-table>\n\n      <ha-fab\n        class=\"${classMap({\n          rtl: computeRTL(this.hass),\n        })}\"\n        icon=\"hass:plus\"\n        label=\"${this.hass.localize(\"ui.panel.lovelace.editor.edit_card.add\")}\"\n        @click=\"${this._addToLovelaceView}\"\n      ></ha-fab>\n    `;\n  }\n\n  private _getUnusedEntities(): void {\n    if (!this.hass || !this.lovelace) {\n      return;\n    }\n    this._selectedEntities = [];\n    this._unusedEntities = computeUnusedEntities(this.hass, this._config!);\n  }\n\n  private _handleSelectionChanged(\n    ev: HASSDomEvent<SelectionChangedEvent>\n  ): void {\n    this._selectedEntities = ev.detail.value;\n  }\n\n  private _handleEntityClicked(ev: Event) {\n    const entityId = ((ev.target as HTMLElement).closest(\n      \".mdc-data-table__row\"\n    ) as any).rowId;\n    fireEvent(this, \"hass-more-info\", {\n      entityId,\n    });\n  }\n\n  private _addToLovelaceView(): void {\n    addEntitiesToLovelaceView(\n      this,\n      this.hass,\n      this._selectedEntities,\n      this.lovelace!.config,\n      this.lovelace!.saveConfig\n    );\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        background: var(--lovelace-background);\n        display: flex;\n        flex-direction: column;\n      }\n      ha-card {\n        --ha-card-box-shadow: none;\n        --ha-card-border-radius: 0;\n      }\n      ha-data-table {\n        --data-table-border-width: 0;\n        flex-grow: 1;\n        margin-top: -20px;\n      }\n      ha-fab {\n        position: absolute;\n        right: 16px;\n        bottom: 16px;\n        z-index: 1;\n      }\n      ha-fab.rtl {\n        left: 16px;\n        right: auto;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-unused-entities\": HuiUnusedEntities;\n  }\n}\n"],"sourceRoot":""}