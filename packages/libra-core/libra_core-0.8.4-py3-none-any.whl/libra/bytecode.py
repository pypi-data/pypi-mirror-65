import json

bytecodes = {
'add_validator' : b'\xa1\x1c\xeb\x0b\x01\x00\x07\x01F\x00\x00\x00\x04\x00\x00\x00\x03J\x00\x00\x00\x06\x00\x00\x00\x0cP\x00\x00\x00\x05\x00\x00\x00\rU\x00\x00\x00\x05\x00\x00\x00\x05Z\x00\x00\x00&\x00\x00\x00\x04\x80\x00\x00\x00\x10\x00\x00\x00\x07\x90\x00\x00\x00\x0f\x00\x00\x00\x00\x00\x00\x01\x01\x02\x00\x00\x03\x00\x02\x00\x01\x05\x00\x03\x01\x05\x03\x00\x06<SELF>\x0bLibraSystem\radd_validator\x04main\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\xff\xff\x03\x00\x03\x00\n\x00\x12\x00\x01\x02',

'remove_validator' : b'\xa1\x1c\xeb\x0b\x01\x00\x07\x01F\x00\x00\x00\x04\x00\x00\x00\x03J\x00\x00\x00\x06\x00\x00\x00\x0cP\x00\x00\x00\x05\x00\x00\x00\rU\x00\x00\x00\x05\x00\x00\x00\x05Z\x00\x00\x00)\x00\x00\x00\x04\x83\x00\x00\x00\x10\x00\x00\x00\x07\x93\x00\x00\x00\x0f\x00\x00\x00\x00\x00\x00\x01\x01\x02\x00\x00\x03\x00\x02\x00\x01\x05\x00\x03\x01\x05\x03\x00\x06<SELF>\x0bLibraSystem\x10remove_validator\x04main\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\xff\xff\x03\x00\x03\x00\n\x00\x12\x00\x01\x02',

'register_validator' : b'\xa1\x1c\xeb\x0b\x01\x00\x07\x01F\x00\x00\x00\x04\x00\x00\x00\x03J\x00\x00\x00\x06\x00\x00\x00\x0cP\x00\x00\x00\x10\x00\x00\x00\r`\x00\x00\x00\x10\x00\x00\x00\x05p\x00\x00\x009\x00\x00\x00\x04\xa9\x00\x00\x00\x10\x00\x00\x00\x07\xb9\x00\x00\x00\x19\x00\x00\x00\x00\x00\x00\x01\x01\x02\x00\x00\x03\x00\x02\x00\x06\n\x02\n\x02\n\x02\n\x02\n\x02\n\x02\x00\x03\x06\n\x02\n\x02\n\x02\n\x02\n\x02\n\x02\x03\x00\x06<SELF>\x0fValidatorConfig\x1cregister_candidate_validator\x04main\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\xff\xff\x03\x00\x08\x00\x0b\x00\x0b\x01\x0b\x02\x0b\x03\x0b\x04\x0b\x05\x12\x00\x01\x02',

'peer_to_peer' : b'\xa1\x1c\xeb\x0b\x01\x00\x08\x01O\x00\x00\x00\x06\x00\x00\x00\x02U\x00\x00\x00\x04\x00\x00\x00\x03Y\x00\x00\x00\x06\x00\x00\x00\x0c_\x00\x00\x00\x11\x00\x00\x00\rp\x00\x00\x00\x0b\x00\x00\x00\x05{\x00\x00\x00/\x00\x00\x00\x04\xaa\x00\x00\x00\x10\x00\x00\x00\x07\xba\x00\x00\x00\x13\x00\x00\x00\x00\x00\x00\x01\x00\x02\x01\x03\x02\x00\x02\x04\x00\x00\x05\x01\x02\x00\x03\x05\n\x02\x03\x01\x01\x02\x00\x03\x05\n\x02\x03\x00\x03\x03\x05\n\x02\x03\x03\x01\x08\x00\x00\x06<SELF>\x03LBR\x0cLibraAccount\x01T\x0fpay_from_sender\x04main\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\xff\xff\x03\x00\x05\x00\n\x00\x0b\x01\n\x02\x12\x00\x01\x02',

'peer_to_peer_with_metadata' : b'\xa1\x1c\xeb\x0b\x01\x00\x08\x01O\x00\x00\x00\x06\x00\x00\x00\x02U\x00\x00\x00\x04\x00\x00\x00\x03Y\x00\x00\x00\x06\x00\x00\x00\x0c_\x00\x00\x00\x15\x00\x00\x00\rt\x00\x00\x00\r\x00\x00\x00\x05\x81\x00\x00\x00=\x00\x00\x00\x04\xbe\x00\x00\x00\x10\x00\x00\x00\x07\xce\x00\x00\x00\x15\x00\x00\x00\x00\x00\x00\x01\x00\x02\x01\x03\x02\x00\x02\x04\x00\x00\x05\x01\x02\x00\x04\x05\n\x02\x03\n\x02\x01\x01\x02\x00\x04\x05\n\x02\x03\n\x02\x00\x03\x04\x05\n\x02\x03\n\x02\x03\x01\x08\x00\x00\x06<SELF>\x03LBR\x0cLibraAccount\x01T\x1dpay_from_sender_with_metadata\x04main\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\xff\xff\x03\x00\x06\x00\n\x00\x0b\x01\n\x02\x0b\x03\x12\x00\x01\x02',

'create_account' : b'\xa1\x1c\xeb\x0b\x01\x00\x08\x01O\x00\x00\x00\x06\x00\x00\x00\x02U\x00\x00\x00\x04\x00\x00\x00\x03Y\x00\x00\x00\x06\x00\x00\x00\x0c_\x00\x00\x00\x11\x00\x00\x00\rp\x00\x00\x00\x0b\x00\x00\x00\x05{\x00\x00\x002\x00\x00\x00\x04\xad\x00\x00\x00\x10\x00\x00\x00\x07\xbd\x00\x00\x00\x13\x00\x00\x00\x00\x00\x00\x01\x00\x02\x01\x03\x02\x00\x02\x04\x00\x00\x05\x01\x02\x00\x03\x05\n\x02\x03\x01\x01\x02\x00\x03\x05\n\x02\x03\x00\x03\x03\x05\n\x02\x03\x03\x01\x08\x00\x00\x06<SELF>\x03LBR\x0cLibraAccount\x01T\x12create_new_account\x04main\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\xff\xff\x03\x00\x05\x00\n\x00\x0b\x01\n\x02\x12\x00\x01\x02',

'mint' : b'\xa1\x1c\xeb\x0b\x01\x00\x07\x01F\x00\x00\x00\x04\x00\x00\x00\x03J\x00\x00\x00\x06\x00\x00\x00\x0cP\x00\x00\x00\x08\x00\x00\x00\rX\x00\x00\x00\x08\x00\x00\x00\x05`\x00\x00\x00)\x00\x00\x00\x04\x89\x00\x00\x00\x10\x00\x00\x00\x07\x99\x00\x00\x00\x13\x00\x00\x00\x00\x00\x00\x01\x01\x02\x00\x00\x03\x00\x02\x00\x03\x05\n\x02\x03\x00\x03\x03\x05\n\x02\x03\x03\x00\x06<SELF>\x0cLibraAccount\x0fmint_to_address\x04main\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\xff\xff\x03\x00\x05\x00\n\x00\x0b\x01\n\x02\x12\x00\x01\x02',

'rotate_authentication_key' : b'\xa1\x1c\xeb\x0b\x01\x00\x07\x01F\x00\x00\x00\x04\x00\x00\x00\x03J\x00\x00\x00\x06\x00\x00\x00\x0cP\x00\x00\x00\x06\x00\x00\x00\rV\x00\x00\x00\x06\x00\x00\x00\x05\\\x00\x00\x003\x00\x00\x00\x04\x8f\x00\x00\x00\x10\x00\x00\x00\x07\x9f\x00\x00\x00\x0f\x00\x00\x00\x00\x00\x00\x01\x01\x02\x00\x00\x03\x00\x02\x00\x01\n\x02\x00\x03\x01\n\x02\x03\x00\x06<SELF>\x0cLibraAccount\x19rotate_authentication_key\x04main\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\xff\xff\x03\x00\x03\x00\x0b\x00\x12\x00\x01\x02',

'rotate_consensus_pubkey' : b'\xa1\x1c\xeb\x0b\x01\x00\x07\x01F\x00\x00\x00\x04\x00\x00\x00\x03J\x00\x00\x00\x06\x00\x00\x00\x0cP\x00\x00\x00\x06\x00\x00\x00\rV\x00\x00\x00\x06\x00\x00\x00\x05\\\x00\x00\x000\x00\x00\x00\x04\x8c\x00\x00\x00\x10\x00\x00\x00\x07\x9c\x00\x00\x00\x0f\x00\x00\x00\x00\x00\x00\x01\x01\x02\x00\x00\x03\x00\x02\x00\x01\n\x02\x00\x03\x01\n\x02\x03\x00\x06<SELF>\x0bLibraSystem\x17rotate_consensus_pubkey\x04main\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\xff\xff\x03\x00\x03\x00\x0b\x00\x12\x00\x01\x02',
}


def get_transaction_name(code):
    for k, v in bytecodes.items():
        if code == v:
            return k+"_transaction"
    return "unknown transaction"



def get_code_by_jsonfile(script_file):
    with open(script_file) as f:
        amap = json.load(f)
        return bytes(amap['code'])


def get_code_by_filename(script_file):
    with open(script_file, 'rb') as f:
        code = f.read()
        return code