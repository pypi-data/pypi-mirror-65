!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["task-instances"]=e():(t.Airflow=t.Airflow||{},t.Airflow["task-instances"]=e())}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"f",function(){return i}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return m}),n.d(e,"e",function(){return u}),n.d(e,"b",function(){return l});const o="YYYY-MM-DD, HH:mm:ss",r="z (Z)";let a="UTC";function i(t){a=t,moment.tz.setDefault(t),function(){$('time[data-datetime-convert!="false"]').each((t,e)=>{const n=$(e),r=moment(n.attr("datetime"));n.text(r.format(o)),void 0!==n.attr("title")&&n.attr("title",r.isUTC()?"":`UTC: ${r.clone().utc().format()}`)}),$(".datetime input").each((t,e)=>{e.value=moment(e.value).format()})}()}function c(){return a}function m(t){return t instanceof moment?t.isUTC()?"UTC":t.format(r):"UTC"===t?t:moment().tz(t).format(r)}function u(t,e){const n=moment(t),r=$.extend({title:!0},e).title,a=document.createElement("time");return a.setAttribute("datetime",n.format()),r&&a.setAttribute("title",n.isUTC()?"":`UTC: ${n.clone().utc().format()}`),a.innerText=n.format(o),a}const l=t=>moment(t).format("YYYY-MM-DD, HH:mm:ss z")},function(t,e,n){"use strict";n.r(e),n.d(e,"escapeHtml",function(){return c}),n.d(e,"convertSecsToHumanReadable",function(){return m});var o=n(0);function r(){const t=moment();$("#clock").html(`${t.format(o.a)} <strong>${Object(o.c)(t)}</strong>`)}function a(t){localStorage.setItem("selected-timezone",t),Object(o.f)(t),r()}window.isoDateToTimeEl=o.e,window.moment=Airflow.moment;var i=document.createElement("span");function c(t){return i.textContent=t,i.innerHTML}function m(t){var e=t,n=e-Math.floor(e);t=Math.floor(t);var o=Math.floor(t/3600);t-=3600*o;var r=Math.floor(t/60);t-=60*r;var a="";return o>0&&(a+=o+"Hours "),r>0&&(a+=r+"Min "),t+n>0&&(Math.floor(e)===e?a+=t+"Sec":a+=(t+=n).toFixed(3)+"Sec"),a}window.escapeHtml=c,window.convertSecsToHumanReadable=m,window.postAsForm=function(t,e){var n=$("<form></form>");n.attr("method","POST"),n.attr("action",t),$.each(e||{},function(t,e){var o=$("<input></input>");o.attr("type","hidden"),o.attr("name",t),o.attr("value",e),n.append(o)});var o=$("<input></input>");o.attr("type","hidden"),o.attr("name","csrf_token"),o.attr("value",csrfToken),n.append(o),$(document.body).append(n),n.submit()},$(document).ready(()=>{!function(){const t=moment.tz.guess(),e=localStorage.getItem("selected-timezone"),n=localStorage.getItem("chosen-timezone");function r(e){localStorage.setItem("chosen-timezone",e),e!=t||e!=Airflow.serverTimezone?($("#timezone-manual a").data("timezone",e).text(Object(o.c)(e)),$("#timezone-manual").show()):$("#timezone-manual").hide()}n&&r(n),a(e||Airflow.defaultUITimezone),"UTC"!==Airflow.serverTimezone&&($("#timezone-server a").text(`Server: ${Object(o.c)(Airflow.serverTimezone)}`),$("#timezone-server").show()),Airflow.serverTimezone!=t?$("#timezone-local a").attr("data-timezone",t).text(`Local: ${Object(o.c)(t)}`):$("#timezone-local").hide(),$("a[data-timezone]").click(t=>{a($(t.target).data("timezone"))}),$("#timezone-dropdown").on("hide.bs.dropdown",t=>{"timezone-other"===document.activeElement.id&&t.preventDefault()}),$("#timezone-other").typeahead({source:$(moment.tz.names().map(t=>({category:t.split("/",1)[0],name:t.replace("_"," "),tzName:t}))),showHintOnFocus:"all",showCategoryHeader:!0,items:"all",afterSelect(t){this.$element.val(""),r(t.tzName),a(t.tzName),setTimeout(()=>{document.activeElement.blur(),this.shown=!1,this.focused=!1,$("#timezone-menu").dropdown("toggle")},1)}})}(),$("#clock").attr("data-original-title",hostName).attr("data-placement","bottom").parent().show(),r(),setInterval(r,1e3),$("span").tooltip(),$.ajaxSetup({beforeSend:function(t,e){/^(GET|HEAD|OPTIONS|TRACE)$/i.test(e.type)||this.crossDomain||t.setRequestHeader("X-CSRFToken",csrfToken)}}),$.fn.datetimepicker.defaults.format="YYYY-MM-DD HH:mm:ssZ",$.fn.datetimepicker.defaults.sideBySide=!0,$(".datetimepicker").datetimepicker(),$("#filter_form a.filter").click(()=>{$(".datetimepicker").datetimepicker()})})},,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var o=n(0),r=n(1);function a(t,e){return`Started: ${t.format(o.a)} <br> Ended: ${e.format(o.a)} <br>`}function i(t){let e="";return void 0!==t.task_id&&(e+=`Task_id: ${Object(r.escapeHtml)(t.task_id)}<br>`),e+=`Run: ${Object(o.b)(t.execution_date)}<br>`,void 0!==t.run_id&&(e+=`Run Id: <nobr>${Object(r.escapeHtml)(t.run_id)}</nobr><br>`),void 0!==t.operator&&(e+=`Operator: ${Object(r.escapeHtml)(t.operator)}<br>`),e+=`Started: ${Object(r.escapeHtml)(t.start_date)}<br>`,e+=`Duration: ${Object(r.escapeHtml)(convertSecsToHumanReadable(t.duration))}<br>`,e+=function(t,e,n){const r=Object(o.d)();if(t=moment.utc(t),e=moment.utc(e),n=n.toUpperCase(),!t)return"<br><em>Not yet started</em>";let i="<br><strong>UTC:</strong><br>";return i+=a(t.local(),e.local()),i+=`<br><strong>Local: ${moment.tz(r).format("z (Z)")}</strong><br>`,i+=a(t.local(),e.local()),"UTC"!==n&&n!==r&&(i+=`<br><strong>DAG's TZ: ${moment.tz(n).format("z (Z)")}</strong><br>`,i+=a(t.tz(n),e.tz(n))),i}(t.start_date,t.end_date,dagTZ)}window.tiTooltip=i}])});