(this.webpackJsonpasrfe=this.webpackJsonpasrfe||[]).push([[0],{123:function(e,t,a){e.exports=a(154)},151:function(e,t,a){},152:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),o=a(16),c=a(66),i={project_id:null};var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return"SET_PROJECT"===t.type&&(e.project_id=t.payload),e},u=Object(c.b)(s),d=a(7),m=a(107),p=a(240),E=a(239),f=a(79),g=a.n(f),h=a(39),b=a(40),v=a(190),x=a(208),j=a(209),w=a(210),y=a(28),S=a(192),O=a(195),k=a(196),C=a(197),_=a(198),N=a(200),R=a(203),D=a(204),A=a(199),T=a(201),B=a(202),W=a(205),I=a(206),P=a(207),H=Object(v.a)({list:{width:250}}),F=function(e){var t=H();return r.a.createElement(S.a,{anchor:"left",open:e.state.left,onClose:e.toggleDrawer("left",!1),variant:"temporary"},r.a.createElement("div",{className:t.list,role:"presentation"},r.a.createElement(O.a,null,r.a.createElement(k.a,{component:"div",id:"list-subheader-projects"},"Projects"),r.a.createElement(C.a,{button:!0,key:"menu-button-new-projects",onClick:function(){e.setMenuDrawerState({left:!1}),e.setAppState("review-init")}},r.a.createElement(_.a,null,r.a.createElement(A.a,null)),r.a.createElement(N.a,{primary:"New"})),r.a.createElement(C.a,{button:!0,key:"menu-button-projects",onClick:function(){e.setMenuDrawerState({left:!1}),e.setAppState("projects")}},r.a.createElement(_.a,null,r.a.createElement(T.a,null)),r.a.createElement(N.a,{primary:"Projects"})),r.a.createElement(C.a,{button:!0,key:"menu-button-export",disabled:"review"!==e.appState,onClick:function(){e.toggleExportResult(),e.setMenuDrawerState({left:!1})}},r.a.createElement(_.a,null,r.a.createElement(B.a,null)),r.a.createElement(N.a,{primary:"Export"})),r.a.createElement(R.a,null),r.a.createElement(k.a,{component:"div",id:"list-subheader-help"},"Help & Quit"),r.a.createElement(C.a,{button:!0,key:"menu-button-help",component:D.a,color:"inherit",href:"https://asreview.readthedocs.io/",target:"_blank"},r.a.createElement(_.a,null,r.a.createElement(W.a,null)),r.a.createElement(N.a,{primary:"Help"})),r.a.createElement(C.a,{button:!0,key:"menu-button-feedback",component:D.a,color:"inherit",href:"https://github.com/asreview/asreview/blob/master/CONTRIBUTING.md",target:"_blank"},r.a.createElement(_.a,null,r.a.createElement(I.a,null)),r.a.createElement(N.a,{primary:"Feedback"})),r.a.createElement(C.a,{button:!0,key:"menu-button-exit",onClick:function(){e.toggleExit(),e.setMenuDrawerState({left:!1})}},r.a.createElement(_.a,null,r.a.createElement(P.a,null)),r.a.createElement(N.a,{primary:"Quit"})))))},M="localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname||"3000"!==window.location.port?"/api/":"http://localhost:5000/api/",U=a(211),L=a(212),V=a(100),q=a.n(V),z=a(101),Z=a.n(z),Q=a(60);var Y=function(e){return r.a.createElement(Q.a,Object.assign({},e,{viewBox:"0 0 24 24"}),r.a.createElement("path",{d:"M17.3,3.9a4.4,4.4,0,0,0,2.4-1A1.2,1.2,0,0,0,19.6,1,3.9,3.9,0,0,0,17.1.3a6.4,6.4,0,0,0-2.7.7,5.7,5.7,0,0,0-2.7,3.4c-3.6.1-6.8,3.5-7.1,7.9A8.6,8.6,0,0,0,8,20c-1.2.3-2,1-2,1.8s1.3,1.8,2.9,1.8a3,3,0,0,0,2.7-1.2,3.4,3.4,0,0,0,2.8,1.2c1.6,0,2.9-.8,2.9-1.8s-.9-1.6-2.2-1.8a8.8,8.8,0,0,0,3.6-6.7c.3-4.2-2.1-7.9-5.5-8.7a2.9,2.9,0,0,1,1.3-.5A24.6,24.6,0,0,1,17.3,3.9ZM14.8,8.7a1.7,1.7,0,0,1,1.6,1.7v1.3a1.6,1.6,0,0,1-1.6,1.6H8.5a1.6,1.6,0,0,1-1.6-1.6V10.4A1.7,1.7,0,0,1,8.5,8.7Z"}),r.a.createElement("path",{d:"M7.9,11.7a.5.5,0,0,0,.5.4.4.4,0,0,0,.4-.4.9.9,0,0,1,.8-.8.9.9,0,0,1,.8.8.4.4,0,0,0,.4.4.5.5,0,0,0,.5-.4A1.8,1.8,0,0,0,9.6,10,1.8,1.8,0,0,0,7.9,11.7Z"}),r.a.createElement("path",{d:"M12.5,12.1a.4.4,0,0,0,.4-.4.8.8,0,1,1,1.6,0,.4.4,0,0,0,.4.4.5.5,0,0,0,.5-.4,1.7,1.7,0,0,0-3.4,0A.5.5,0,0,0,12.5,12.1Z"}))},J=Object(v.a)({menuButton:{marginRight:10},appBar:{flexGrow:1},barFullWidth:{paddingRight:0},barWithReviewDrawer:{paddingRight:240},appTitle:{flexGrow:1},barChart:{},menuTitle:{marginLeft:15,marginTop:15}}),G=function(e){var t=J(),a=r.a.useState({left:!1}),n=Object(d.a)(a,2),l=n[0],o=n[1],c=function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&o(Object(b.a)({},l,Object(h.a)({},e,t)))}};return r.a.createElement("div",{className:t.appBar},r.a.createElement(x.a,{position:"fixed",className:e.reviewDrawerState?t.barWithReviewDrawer:t.barFullWidth},r.a.createElement(j.a,null,r.a.createElement(w.a,{className:t.menuButton,edge:"start",color:"inherit",onClick:c("left",!0)},r.a.createElement(U.a,null)),r.a.createElement(Y,null),r.a.createElement(y.a,{variant:"h5",color:"inherit",className:t.appTitle},"ASReview"),"review"===e.appState?r.a.createElement(w.a,{"aria-label":"History",onClick:e.handleHistoryOpen,color:"inherit"},r.a.createElement(q.a,null)):"",r.a.createElement(w.a,{"aria-label":"Settings",onClick:e.handleClickOpen,color:"inherit"},r.a.createElement(Z.a,null)),"review"!==e.appState||e.reviewDrawerState?"":r.a.createElement(w.a,{color:"inherit",className:t.barChart,onClick:function(t){return e.handleReviewDrawer(!0)}},r.a.createElement(L.a,null)))),r.a.createElement(j.a,null),r.a.createElement(F,{state:l,setMenuDrawerState:o,appState:e.appState,setAppState:e.setAppState,toggleDrawer:c,toggleExit:e.toggleExit,toggleExportResult:e.toggleExportResult}))},K=a(241),X=a(213),$=function(e){return r.a.createElement("div",null,r.a.createElement(k.a,{component:"div",id:"list-subheader-progress"},"Progress"),r.a.createElement(C.a,{key:"list-progress-total_labeled"},"Total reviewed: ",e.n_included+e.n_excluded),r.a.createElement(C.a,{key:"list-progress-inclusions"},"Relevant: ",e.n_included),r.a.createElement(C.a,{key:"list-progress-exclusions"},"Irrelevant: ",e.n_excluded))},ee=function(e){return r.a.createElement("div",null,r.a.createElement(k.a,{component:"div",id:"list-subheader-project"},"Project"),r.a.createElement(C.a,{key:"project-name"},"Project: ",e.name),r.a.createElement(C.a,{key:"project-authors"},"Authors: ",e.authors),r.a.createElement(C.a,{key:"project-n-papers"},"Number of publications: ",e.n_papers))},te=Object(v.a)((function(e){return{drawer:{width:250,flexShrink:0},drawerPaper:{width:250},drawerHeader:Object(b.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-start"}),drawerTitle:{width:"100%"}}})),ae=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=te();return r.a.createElement(S.a,{className:t.drawer,anchor:"right",open:e.state,variant:"persistent",classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(w.a,{onClick:function(t){return e.handle(!1)}},r.a.createElement(X.a,null)),r.a.createElement("div",{className:t.drawerTitle},r.a.createElement(y.a,{variant:"subtitle1"},"Statistics"))),r.a.createElement(R.a,null),r.a.createElement(ee,{name:e.statistics.name,authors:e.statistics.authors,description:e.statistics.description,n_papers:e.statistics.n_papers}),r.a.createElement(R.a,null),r.a.createElement($,{n_included:e.statistics.n_included,n_excluded:e.statistics.n_excluded}))})),ne=a(156),re=a(214),le=Object(v.a)({boxFullWidth:{paddingTop:40,paddingBottom:30,overflowY:"auto"},boxWithDrawer:{paddingTop:40,paddingBottom:30,overflowY:"auto",paddingRight:280},title:{lineHeight:1.2},abstract:{},authors:{fontWeight:"bolder"},stickToBottom:{width:"100%",position:"fixed",bottom:0}}),oe=function(e){var t=le();return r.a.createElement(ne.a,{direction:e.slide.direction,in:e.slide.set,timeout:{enter:0,exit:0},mountOnEnter:!0},r.a.createElement(re.a,{maxWidth:"md",className:e.reviewDrawerState?t.boxWithDrawer:t.boxFullWidth},r.a.createElement(y.a,{className:t.title,variant:"h6",color:1===e.record._debug_label?"error":"textSecondary",component:"div",paragraph:!0},(""===e.record.title||null===e.record.title)&&r.a.createElement(K.a,{fontStyle:"italic"},"This article doens't have a title."),!(""===e.record.title||null===e.record.title)&&r.a.createElement(K.a,null,e.record.title)),null!==e.record.publish_time&&r.a.createElement(y.a,{className:t.publish_time,color:1===e.record._debug_label?"error":"textSecondary",component:"p",fontStyle:"italic",paragraph:!0},e.record.publish_time),r.a.createElement(y.a,{className:t.abstract,variant:"body2",color:1===e.record._debug_label?"error":"textSecondary",component:"div",paragraph:!0},(""===e.record.abstract||null===e.record.abstract)&&r.a.createElement(K.a,{fontStyle:"italic"},"This article doens't have an abstract."),!(""===e.record.abstract||null===e.record.abstract)&&r.a.createElement(K.a,null,e.record.abstract))))},ce=a(215),ie=a(216),se=a(55),ue=a.n(se),de=a(48),me=a.n(de),pe=Object(v.a)({barFullWidth:{width:"100%",position:"fixed",bottom:0,boxShadow:"0 -1px 1px 0 rgba(0,0,0,.1)",paddingRight:0},barWithDrawer:{width:"100%",position:"fixed",bottom:0,boxShadow:"0 -1px 1px 0 rgba(0,0,0,.1)",paddingRight:250}}),Ee=function(e){var t=pe();return r.a.createElement(ce.a,{onChange:function(t,a){0===a?e.classify(0):1===a&&e.classify(1)},showLabels:!0,className:e.reviewDrawerState?t.barWithDrawer:t.barFullWidth},r.a.createElement(ie.a,{label:"Irrelevant",icon:r.a.createElement(me.a,null),disabled:e.block}),r.a.createElement(ie.a,{label:"Relevant",icon:r.a.createElement(ue.a,null),disabled:e.block}))},fe=a(112),ge=a(110),he=a(111),be=a(217),ve=Object(v.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},spinner:{paddingTop:10,display:"flex",alignItems:"center",justifyContent:"center"}}})),xe=function(e){var t=ve();return r.a.createElement(fe.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:e.open,closeAfterTransition:!0,BackdropComponent:ge.a,BackdropProps:{transitionDuration:{enter:200,exit:200}}},r.a.createElement(he.a,{in:e.open,timeout:{enter:200,exit:200}},r.a.createElement("div",{className:t.paper},r.a.createElement(y.a,{variant:"h6"},e.text),e.elas?r.a.createElement("div",{className:t.spinner},r.a.createElement(be.a,{color:"inherit"})):"")))},je=a(11),we=a.n(je),ye=Object(v.a)({box:{paddingTop:40,paddingBottom:30,overflowY:"auto"},title:{lineHeight:1.2},abstract:{},authors:{},stickToBottom:{width:"100%",position:"fixed",bottom:0}}),Se=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=ye(),a=Object(n.useState)(!1),l=Object(d.a)(a,2),o=l[0],c=l[1],i=Object(n.useState)({doc_id:null,title:"",abstract:"",authors:""}),s=Object(d.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)({name:null,authors:null,decsription:null,n_included:null,n_excluded:null,n_since_last_inclusion:null,n_papers:null,n_pool:null}),E=Object(d.a)(p,2),f=E[0],g=E[1],h=Object(n.useState)({set:!1,direction:"left"}),b=Object(d.a)(h,2),v=b[0],x=b[1],j=Object(n.useState)({open:!1,text:"",elas:!1}),w=Object(d.a)(j,2),y=w[0],S=w[1];return Object(n.useEffect)((function(){o||(function(){var t=M+"project/".concat(e.project_id,"/progress");we.a.get(t).then((function(e){g(e.data)})).catch((function(e){console.log(e)}))}(),u.doc_id&&S({open:!0,text:"Learning....",elas:!0}),function(){var t=M+"project/".concat(e.project_id,"/get_document");we.a.get(t).then((function(e){m(e.data),c(!0),S({open:!1,text:"",elas:!1}),x({set:!0,direction:"up"})})).catch((function(e){console.log(e),c(!0),S({open:!1,text:"",elas:!1})}))}())}),[e.project_id,o,u.doc_id]),r.a.createElement(K.a,{className:t.box,height:"100vh"},r.a.createElement(oe,{record:u,reviewDrawerState:e.reviewDrawerState,showAuthors:e.showAuthors,slide:v}),r.a.createElement(Ee,{reviewDrawerState:e.reviewDrawerState,classify:function(t){var a=M+"project/".concat(e.project_id,"/record/").concat(u.doc_id),n=new FormData;return n.set("doc_id",u.doc_id),n.set("label",t),S({open:!0,text:t?"Included":"Excluded",elas:!1}),x({set:!1,direction:t?"left":"right"}),we()({method:"post",url:a,data:n,headers:{"Content-Type":"application/json"}}).then((function(a){console.log("".concat(e.project_id," - add item ").concat(u.doc_id," to ").concat(t?"inclusions":"exclusions")),c(!1)})).catch((function(e){console.log(e)}))},block:!v.set}),r.a.createElement(ae,{state:e.reviewDrawerState,handle:e.handleReviewDrawer,statistics:f}),r.a.createElement(xe,{open:y.open,text:y.text,elas:y.elas}))})),Oe=a(218),ke=a(219),Ce=a(220),_e=a(221),Ne=a(247),Re=a(222),De=a(223);function Ae(e){var t=r.a.useRef(null);return r.a.useEffect((function(){if(e.openSettings){var a=t.current;null!==a&&a.focus()}}),[e.openSettings]),r.a.createElement("div",null,r.a.createElement(Oe.a,{open:e.openSettings,onClose:e.handleClose,scroll:"paper",fullWidth:!0,maxWidth:"sm","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(ke.a,{id:"scroll-dialog-title"},"Settings"),r.a.createElement(Ce.a,{dividers:!0},r.a.createElement(O.a,null,r.a.createElement(C.a,null,r.a.createElement(N.a,{id:"switch-list-label-dark",primary:"Dark Mode"}),r.a.createElement(_e.a,null,r.a.createElement(Ne.a,{edge:"end",onChange:e.toggleDarkTheme,checked:"dark"===e.onDark.palette.type,inputProps:{"aria-labelledby":"switch-list-label-dark"}}))))),r.a.createElement(Re.a,null,r.a.createElement(De.a,{onClick:e.handleClose,color:"primary"},"Close"))))}function Te(e){var t=r.a.useRef(null);return r.a.useEffect((function(){if(e.openHistory){var a=t.current;null!==a&&a.focus()}}),[e.openHistory]),r.a.createElement(Oe.a,{open:e.openHistory,onClose:e.handleHistoryClose,scroll:"paper",fullWidth:!0,maxWidth:"sm","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(ke.a,{id:"scroll-dialog-title"},"Decision History"),r.a.createElement(Ce.a,{dividers:!0},"We are working on this."),r.a.createElement(Re.a,null,r.a.createElement(De.a,{onClick:e.handleHistoryClose,color:"primary"},"Close")))}function Be(e){var t=r.a.useRef(null);return r.a.useEffect((function(){if(e.exit){var a=t.current;null!==a&&a.focus()}}),[e.exit]),r.a.createElement(Oe.a,{open:e.exit,onClose:e.toggleExit,scroll:"paper",fullWidth:!0,maxWidth:"sm","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(ke.a,{id:"scroll-dialog-title"},"Exit ASReview"),r.a.createElement(Ce.a,{dividers:!0},("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname)&&r.a.createElement("div",null,r.a.createElement(y.a,null,"Close your browser window. Your work is saved."),r.a.createElement("br",null),r.a.createElement(y.a,null,"For a complete shutdown, please close your terminal or CMD.exe as well (CTRL+C).")),"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname&&r.a.createElement(y.a,null,"Just close the window")&r.a.createElement("div",null,r.a.createElement(y.a,null,"Close your browser window. Your work is saved."),r.a.createElement("br",null),r.a.createElement(y.a,null,"For a complete shutdown, please close your terminal or CMD.exe as well (CTRL+C)."))),r.a.createElement(Re.a,null,r.a.createElement(De.a,{onClick:e.toggleExit,color:"primary"},"Close")))}var We=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=r.a.useRef(null);r.a.useEffect((function(){if(e.exportResult){var a=t.current;null!==a&&a.focus()}}),[e.exportResult]);return r.a.createElement(Oe.a,{open:e.exportResult,onClose:e.toggleExportResult,scroll:"paper",fullWidth:!0,maxWidth:"sm","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(ke.a,{id:"scroll-dialog-title"},"Export results ",e.project_id),r.a.createElement(Ce.a,{dividers:!0},r.a.createElement(y.a,null,"Download the result or your review"),r.a.createElement(De.a,{variant:"contained",color:"primary",onClick:function(){var e=u.getState().project_id;if(null!==e){var t=M+"project/".concat(e,"/export");setTimeout((function(){var e={file:t};window.location.href=e.file}),100)}}},"Export")),r.a.createElement(Re.a,null,r.a.createElement(De.a,{onClick:e.toggleExportResult,color:"primary"},"Close")))})),Ie=a(251),Pe=a(236),He=a(245),Fe=a(224),Me=a(250),Ue=a(225),Le=a(102),Ve=a.n(Le),qe=a(73),ze=a.n(qe),Ze=Object(v.a)((function(e){return{button:{margin:"36px 0px 24px 12px",float:"right"},margin:{marginTop:20},helpertext:{color:"#FF0000"},root:{padding:"2px 4px",marginBottom:"14px",display:"flex",alignItems:"center",width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},help:{textAlign:"right"},helptext:{padding:"12px 0px"}}})),Qe=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=Ze(),a=r.a.useState([]),n=Object(d.a)(a,2),l=n[0],o=n[1],c=r.a.useState({open:!1,query:""}),i=Object(d.a)(c,2),s=i[0],u=i[1],m=r.a.useState(!1),p=Object(d.a)(m,2),E=p[0],f=p[1],g=function(){var t=M+"project/".concat(e.project_id,"/prior");we.a.get(t).then((function(e){o(e.data.result)})).catch((function(e){console.log(e)}))};return r.a.createElement(K.a,{style:{clear:"both"}},r.a.createElement(y.a,{style:{display:"inline"},variant:"h5",align:"left"},"Do you have publications to include?"),r.a.createElement(y.a,{style:{width:"25px",margin:"3px",float:"right",opacity:.5},align:"right"},r.a.createElement(ze.a,{onClick:function(){f((function(e){return!e}))}})),E&&r.a.createElement(y.a,{className:t.helptext},r.a.createElement(K.a,{fontStyle:"italic"},"Provide about 1 to 5 relevant publications based on prior knowledge.")),r.a.createElement(K.a,null,r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),u({open:!0,query:s.query})}},r.a.createElement(Fe.a,{fullWidth:!0,className:t.margin,variant:"outlined"},r.a.createElement(Me.a,{id:"prior-search-input-included",placeholder:"Search on keyword, author or title",value:s.query,onChange:function(e){u({open:!1,query:e.target.value})},endAdornment:r.a.createElement(Ue.a,{position:"end"},r.a.createElement(w.a,{"aria-label":"search for papers",type:"submit"},r.a.createElement(Ve.a,null)))}))),l.length>0&&r.a.createElement(K.a,null,r.a.createElement(y.a,null,"The following publications have been included:"),l.map((function(e,t){return r.a.createElement(st,{id:e.id,title:e.title,abstract:e.abstract,included:e.included,removeButton:!0,getPriorIncluded:g,collapseAbstract:!0,key:"container-result-item-".concat(e.id)})}))),s.open&&""!==s.query&&r.a.createElement(et,{searchQuery:s.query,closeSearchDialog:function(){u({open:!1,query:""}),g()},onRevertInclude:function(e){console.log("Remove item to included: "+e.id)}})),r.a.createElement(j.a,{className:t.clear}),r.a.createElement(De.a,{variant:"contained",color:"primary",disabled:!(l.length>0),onClick:e.handleNext,className:t.button},"Next"))})),Ye=Object(v.a)((function(e){return{button:{margin:"36px 0px 24px 12px",float:"right"},margin:{marginTop:20},helpertext:{color:"#FF0000"},root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},loader:{width:"100%"},helptext:{padding:"12px 0px"},clear:{clear:"both"}}})),Je=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=Ye(),a=Object(n.useState)({records:[],loaded:!1}),l=Object(d.a)(a,2),o=l[0],c=l[1],i=r.a.useState(!1),s=Object(d.a)(i,2),u=s[0],m=s[1],p=function(e){var t=o.records.filter((function(t,a,n){return t.id!==e}));console.log("test"),console.log("Items to classify in step 4: "+o.records.length),c({records:t,loaded:!0})};Object(n.useEffect)((function(){!function(){var t=M+"project/".concat(e.project_id,"/prior_random");we.a.get(t).then((function(e){console.log(e.data.result.length+" random items served for review"),c({records:e.data.result,loaded:!0})})).catch((function(e){console.log(e)}))}()}),[e.project_id]);return r.a.createElement(K.a,null,r.a.createElement(K.a,{style:{clear:"both"}},r.a.createElement(y.a,{style:{display:"inline"},variant:"h5",align:"left"},"Are these 5 randomly selected publications relevant?"),r.a.createElement(y.a,{style:{width:"25px",margin:"3px",float:"right",opacity:.5},align:"right"},r.a.createElement(ze.a,{onClick:function(){m((function(e){return!e}))}})),u&&r.a.createElement(y.a,{className:t.helptext},r.a.createElement(K.a,{fontStyle:"italic"},"The software requires 1-5 irrelevant papers."))),r.a.createElement(K.a,{className:t.clear},o.loaded?o.records.map((function(e,t){return r.a.createElement(st,{id:e.id,title:e.title,abstract:e.abstract,included:null,onRevertInclude:function(){},removeButton:!1,classify:!0,onRemove:p,key:e.id})})):r.a.createElement(K.a,{className:t.loader},r.a.createElement(be.a,{style:{margin:"0 auto"}}))),r.a.createElement(De.a,{variant:"contained",color:"primary",disabled:0!==o.records.length,onClick:e.handleNext,className:t.button},"Next"))})),Ge=a(226),Ke=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=r.a.useState(1===e.included),a=Object(d.a)(t,2),n=a[0],l=a[1],o=r.a.createElement(C.a,{key:"result-item-".concat(e.id)},r.a.createElement(N.a,{primary:e.title,secondary:e.authors}),r.a.createElement(_e.a,null,r.a.createElement(w.a,{edge:"end","aria-label":"Include",color:n?"secondary":"default",selected:n,onClick:function(){var t=M+"project/".concat(e.project_id,"/labelitem"),a=new FormData;a.set("doc_id",e.id),n?(a.set("label",-1),console.log("".concat(e.project_id," - remove item ").concat(e.id," from prior knowledge"))):(a.set("label",1),console.log("".concat(e.project_id," - add item ").concat(e.id," to prior inclusions"))),a.set("is_prior",1),we.a.post(t,a,{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(e){l(!n)})).catch((function(e){console.log(e)}))}},r.a.createElement(ue.a,null))));return e.removeResultOnRevert?r.a.createElement(Ge.a,{in:n,mountOnEnter:!0,unmountOnExit:!0,appear:!0,onExited:function(){console.log("item removed from DOM")}},o):r.a.createElement(K.a,null,o)})),Xe=function(e){return r.a.createElement(O.a,{dense:!0},e.searchResult.map((function(t,a){return r.a.createElement(Ke,{id:t.id,title:t.title,authors:t.authors,included:t.included,onRevertInclude:e.onRevertInclude,removeResultOnRevert:e.removeResultOnRevert,key:"container-result-item-".concat(t.id)})})))},$e=Object(v.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"center",margin:"auto","& > * + *":{marginLeft:e.spacing(2)}}}})),et=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=$e(),a=r.a.useState(null),n=Object(d.a)(a,2),l=n[0],o=n[1],c=r.a.useRef(null);return r.a.useEffect((function(){var t=c.current;null!==t&&t.focus();!function(t){var a=M+"project/".concat(e.project_id,"/search");we.a.get(a,{params:{q:t,n_max:10}}).then((function(e){o(e.data.result)})).catch((function(e){console.log(e)}))}(e.searchQuery)}),[e.searchQuery,e.project_id]),r.a.createElement("div",null,r.a.createElement(Oe.a,{open:!0,onClose:e.closeSearchDialog,scroll:"paper",fullWidth:!0,maxWidth:"sm","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(ke.a,{id:"scroll-dialog-title"},"Search result: ",e.searchQuery),r.a.createElement(Ce.a,{dividers:!0},null===l&&r.a.createElement("div",{className:t.root},r.a.createElement(be.a,null)),null!==l&&r.a.createElement(Xe,{searchResult:l,onRevertInclude:e.onRevertInclude,removeResultOnRevert:!1})),r.a.createElement(Re.a,null,r.a.createElement(De.a,{onClick:e.closeSearchDialog,color:"primary"},"Return"))))})),tt=a(3),at=a(227),nt=a(228),rt=a(229),lt=a(230),ot=a(103),ct=a.n(ot),it=Object(v.a)((function(e){return{root:{marginTop:16},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},close:{margin:"8px",float:"right"},button:{margin:"8px"}}})),st=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=it(),a=r.a.useState(!0),n=Object(d.a)(a,2),l=n[0],o=n[1],c=r.a.useState(!1),i=Object(d.a)(c,2),s=i[0],u=i[1],m=function(){u(!s)},p=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=M+"project/".concat(e.project_id,"/labelitem"),r=new FormData;r.set("doc_id",e.id),r.set("label",t),r.set("is_prior",1),we.a.post(n,r,{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(e){o(!1),null!==a&&a()})).catch((function(e){console.log(e)}))},E=function(){console.log("".concat(e.project_id," - add item ").concat(e.id," to prior inclusions")),p(1,(function(){return e.onRemove(e.id)}))},f=function(){console.log("".concat(e.project_id," - add item ").concat(e.id," to prior exclusions")),p(0,(function(){return e.onRemove(e.id)}))},g=function(){console.log("".concat(e.project_id," - remove item ").concat(e.id," from prior knowledge")),p(-1),e.getPriorIncluded()};return r.a.createElement(Ge.a,{in:l,appear:!0,unmountOnExit:!0},r.a.createElement(at.a,{className:t.root,key:e.id},e.removeButton&&r.a.createElement(w.a,{edge:"end","aria-label":"Include",onClick:g,className:t.close},r.a.createElement(me.a,null)),r.a.createElement(nt.a,{title:e.title}),e.collapseAbstract?r.a.createElement(Ge.a,{in:s,timeout:"auto"},r.a.createElement(rt.a,null,r.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"p"},e.abstract))):r.a.createElement(rt.a,null,r.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"p"},e.abstract)),r.a.createElement(lt.a,{disableSpacing:!0},e.classify&&r.a.createElement("div",{style:{margin:"0 auto"}},r.a.createElement(De.a,{variant:"contained",color:"default",className:t.button,startIcon:r.a.createElement(ue.a,null),onClick:E},"Relevant"),r.a.createElement(De.a,{variant:"contained",color:"default",className:t.button,startIcon:r.a.createElement(me.a,null),onClick:f},"Irrelevant")),e.collapseAbstract&&""!==e.abstract&&r.a.createElement(w.a,{className:Object(tt.a)(t.expand,Object(h.a)({},t.expandOpen,s)),onClick:m,"aria-expanded":s,"aria-label":"show more"},r.a.createElement(ct.a,null)))))})),ut=a(242),dt=a(246);function mt(e){return{type:"SET_PROJECT",payload:e}}var pt=Object(v.a)((function(e){return{title:{marginBottom:"20px"},button:{margin:"36px 0px 0px 12px",float:"right"},input:{display:"none"},textfieldItem:{marginTop:0,marginBottom:40},clear:{clear:"right"}}})),Et=function(e){var t=pt(),a=r.a.useState({authors:"",name:"",description:""}),n=Object(d.a)(a,2),l=n[0],o=n[1],c=r.a.useState(!1),i=Object(d.a)(c,2),s=i[0],m=i[1],p=function(e){o(Object(b.a)({},l,Object(h.a)({},e.target.name,e.target.value)))},E=function(e,t){"clickaway"!==t&&m(!1)};return r.a.createElement(K.a,null,r.a.createElement(y.a,{variant:"h5",className:t.title},"Create a project"),r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault();var a=M+"project/new",n=new FormData;n.set("project_name",l.name),n.set("project_authors",l.authors),n.set("project_description",l.description),we()({method:"post",url:a,data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){u.dispatch(mt(t.data.project_id)),e.handleNext()})).catch((function(e){m(!0)}))}},r.a.createElement("div",{className:t.textfieldItem},r.a.createElement(ut.a,{fullWidth:!0,name:"authors",id:"project-author",label:"Author(s)",onChange:p})),r.a.createElement("div",{className:t.textfieldItem},r.a.createElement(ut.a,{fullWidth:!0,name:"name",id:"project-name",label:"Projectname",onChange:p})),r.a.createElement("div",{className:t.textfieldItem},r.a.createElement(ut.a,{fullWidth:!0,name:"description",id:"project-description",label:"Short description",onChange:p})),r.a.createElement("div",{className:t.nextButton},r.a.createElement(De.a,{variant:"contained",color:"primary",disabled:l.name.length<3||""===l.authors||""===l.description,type:"submit",className:t.button},"Next"))),r.a.createElement(dt.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:s,autoHideDuration:6e3,onClose:E,message:"Error: Project name incorrect",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{size:"small","aria-label":"close",color:"inherit",onClick:E},r.a.createElement(me.a,{fontSize:"small"})))}),r.a.createElement(j.a,{className:t.clear}))},ft=a(108),gt=a(75),ht=a(243),bt=a(232),vt=a(244),xt=a(233),jt={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"60px 20px 60px 20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",outline:"none",transition:"border .24s ease-in-out"},wt={borderColor:"#2196f3"},yt={borderColor:"#00e676"},St={borderColor:"#ff1744"},Ot=Object(v.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,marginBottom:"32px",minHeight:"200px"},rootPaper:{padding:"20px"},title:{marginBottom:"20px"},upload:{},divider:{textAlign:"center",margin:"20px 0px 20px 0px"},clear:{right:"clear"},nextButton:{margin:"36px 0px 24px 12px",float:"right"},datasets:{maxWidth:4*e.spacing(2)+390},uploadButton:{marginTop:"26px"}}})),kt=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=Ot(),a=Object(n.useRef)(null),l=r.a.useState(null),o=Object(d.a)(l,2),c=o[0],i=o[1],s=r.a.useState(!1),u=Object(d.a)(s,2),m=u[0],p=u[1],E=r.a.useState(null),f=Object(d.a)(E,2),g=f[0],h=f[1],v=r.a.useState(null),x=Object(d.a)(v,2),j=x[0],w=x[1],S=function(){a.current.scrollIntoView({behavior:"smooth"})},O=Object(n.useCallback)((function(e){1===e.length?i(e[0]):console.log("No valid files provided.")}),[]),k=Object(ft.a)({onDrop:O,multiple:!1,accept:".txt,.csv,.ris,.xlsx"}),C=k.getRootProps,_=k.getInputProps,N=k.isDragActive,R=k.isDragAccept,A=k.isDragReject,T=Object(n.useMemo)((function(){return Object(b.a)({},jt,{},N?wt:{},{},R?yt:{},{},A?St:{})}),[N,A,R]),B=function(t,a){p(!0),h(null),w(null);var n=M+"project/".concat(e.project_id,"/upload");we()({method:"post",url:n,data:t}).then((function(e){p(!1),i(null),h(e.data),S(),void 0!==a&&a()})).catch((function(e){p(!1),i(null),h(null),w(e.response.data.message),S(),void 0!==a&&a()}))},W=function(e,t){var a=new FormData;return a.append("demo_data",e),B(a,t)},I=r.a.useState(0),P=Object(d.a)(I,2),H=P[0],F=P[1];return r.a.createElement(K.a,null,r.a.createElement(y.a,{variant:"h5",className:t.title},"Select a dataset"),r.a.createElement(gt.a,{className:t.root},r.a.createElement(ht.a,{value:H,onChange:function(e,t){F(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},r.a.createElement(bt.a,{label:"From file"}),r.a.createElement(bt.a,{label:"From url"}),r.a.createElement(bt.a,{label:"From plugin"}),r.a.createElement(bt.a,{label:"Example datasets"})),r.a.createElement(K.a,{className:t.rootPaper},0===H&&r.a.createElement("div",null,r.a.createElement("div",Object.assign({className:t.upload},C({style:T})),r.a.createElement("input",_()),r.a.createElement(y.a,null,"Drag 'n' drop a file here, or click to a file")),null!==c&&r.a.createElement("div",null,r.a.createElement(y.a,null,"File '",c.path,"' selected."),r.a.createElement(De.a,{variant:"contained",color:"primary",disabled:m,onClick:function(){return function(e){var t=new FormData;return t.append("file",c),B(t,e)}()},className:t.uploadButton},m?"Uploading...":"Upload"))),1===H&&r.a.createElement("div",null,r.a.createElement(y.a,null,"Upload a dataset from the internet with a link. For example: ",r.a.createElement(D.a,{target:"_blank",rel:"noreferrer",href:"https://raw.githubusercontent.com/asreview/asreview/master/datasets/ACEInhibitors.csv"},"ACEInhibitors.csv")),r.a.createElement(It,{upload:m,onUploadHandler:function(e,t){var a=new FormData;return a.append("url",e),B(a,t)}})),2===H&&r.a.createElement(Bt,{subset:"plugin",onUploadHandler:W}),3===H&&r.a.createElement("div",null,r.a.createElement(y.a,null,"Example datasets are useful for testing algorithms because they are fully labeled into relevant and irrelevant. Relevant articles will display up in red and irrelevant articles in black."),r.a.createElement(Bt,{subset:"test",onUploadHandler:W})))),null!==g&&r.a.createElement(vt.a,{severity:"success",action:r.a.createElement(De.a,{color:"inherit",size:"small",onClick:function(){h(null)}},"Remove")},r.a.createElement(xt.a,null,"Success"),"Successfully uploaded dataset '",g.filename,"' with ",g.n_rows," publications."),null!==j&&r.a.createElement(vt.a,{severity:"error",onClose:function(){w(null)}},r.a.createElement(xt.a,null,"Error"),j),r.a.createElement(De.a,{variant:"contained",color:"primary",disabled:null===g,onClick:function(){e.handleNext()},className:t.nextButton},"Next"),r.a.createElement("div",{ref:a}))})),Ct=a(61),_t=a.n(Ct),Nt=a(74),Rt=a(234),Dt=a(235),At=Object(v.a)((function(e){return{root:{paddingTop:"24px"},absolute:{position:"absolute",bottom:e.spacing(2),right:e.spacing(3)},cardRoot:{width:400,height:250,display:"inline-block",margin:e.spacing(2)},cards:{marginBottom:"20px",textAlign:"center",margin:0},media:{height:140}}})),Tt=function(e){var t=At(),a=Object(n.useState)(!1),l=Object(d.a)(a,2),o=l[0],c=l[1],i=function(){c(!1)};return r.a.createElement(at.a,{className:t.cardRoot,key:e.dataset.dataset_id,onClick:o?void 0:function(){c(!0),e.onUploadHandler(e.dataset.dataset_id,i)}},o?r.a.createElement("div",null,r.a.createElement(Dt.a,{className:t.media,image:e.dataset.img_url,title:e.dataset.title}),r.a.createElement(rt.a,null,r.a.createElement(be.a,null))):r.a.createElement(Rt.a,null,r.a.createElement(Dt.a,{className:t.media,image:e.dataset.img_url,title:e.dataset.title}),r.a.createElement(rt.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.dataset.title),r.a.createElement(y.a,{noWrap:!0,variant:"body2",color:"textSecondary",component:"p"},e.dataset.description))))},Bt=function(e){var t=At(),a=Object(n.useState)([]),l=Object(d.a)(a,2),o=l[0],c=l[1];return Object(n.useEffect)((function(){(function(){var t=Object(Nt.a)(_t.a.mark((function t(){var a,n;return _t.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=M+"datasets",n={},"plugin"===e.subset|"test"===e.subset&&(n.subset=e.subset),we.a.get(a,{params:n}).then((function(e){c(e.data.result)})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.subset]),r.a.createElement("div",{className:t.cards},o.map((function(t){return r.a.createElement(Tt,{key:t.dataset_id,dataset:t,onUploadHandler:e.onUploadHandler})})))},Wt=Object(v.a)((function(e){return{root:{paddingTop:"24px"},uploadButton:{marginTop:"26px"}}})),It=function(e){var t=Wt(),a=Object(n.useState)(""),l=Object(d.a)(a,2),o=l[0],c=l[1],i=function(t){t.preventDefault(),e.onUploadHandler(o)};return r.a.createElement("div",null,r.a.createElement("div",{className:t.input},r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off",onSubmit:i},r.a.createElement(ut.a,{fullWidth:!0,id:"url-dataset",label:"Dataset URL",onChange:function(e){c(e.target.value)}})),""!==o&&r.a.createElement("div",null,r.a.createElement(De.a,{type:"submit",variant:"contained",color:"primary",disabled:e.upload,onClick:i,className:t.uploadButton},e.upload?"Uploading...":"Upload"))))},Pt=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=r.a.useState({modelIsTraining:!1}),a=Object(d.a)(t,2),n=a[0],l=a[1],o=function t(){var a=M+"project/".concat(e.project_id,"/model/init_ready");return we.a.get(a).then((function(a){1===a.data.status?e.setAppState("review"):setTimeout(t,2e3)})).catch((function(e){console.log(e)}))};return r.a.createElement(K.a,null,n.modelIsTraining?r.a.createElement(y.a,null,"Training model... (this can take some time)"):r.a.createElement(K.a,null,r.a.createElement(y.a,{variant:"h5"},"Start your systematic review"),r.a.createElement(De.a,{variant:"contained",color:"primary",onClick:function(){l({modelIsTraining:!0});var t=M+"project/".concat(e.project_id,"/start");return we.a.post(t).then((function(e){o()})).catch((function(e){console.log(e)}))}},"Start")))})),Ht=(a(151),Object(v.a)((function(e){return{box:{marginTop:20},grid:{minHeight:"100vh",padding:6},loader:{margin:"0 auto",display:"block",marginTop:12},root:{margin:"24px 0px 24px 0px"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}))),Ft=function(e){var t=Ht(),a=r.a.useState(0),n=Object(d.a)(a,2),l=n[0],o=n[1],c=function(){o((function(e){return e+1}))};return r.a.createElement(K.a,{className:t.box},5!==l&&r.a.createElement(re.a,{maxWidth:"md"},r.a.createElement("div",{className:t.root},r.a.createElement(Ie.a,{activeStep:l,alternativeLabel:!0,style:{backgroundColor:"transparent"}},r.a.createElement(Pe.a,{key:"create-project"},r.a.createElement(He.a,null,"Project info")),r.a.createElement(Pe.a,{key:"select-dataset"},r.a.createElement(He.a,null,"Select dataset")),r.a.createElement(Pe.a,{key:"select-inclusions"},r.a.createElement(He.a,null,"Select inclusions")),r.a.createElement(Pe.a,{key:"label-random"},r.a.createElement(He.a,null,"Label random")),r.a.createElement(Pe.a,{key:"start-review"},r.a.createElement(He.a,null,"Start reviewing")))),0===l&&r.a.createElement(K.a,null,r.a.createElement(Et,{handleNext:c})),1===l&&r.a.createElement(K.a,null,r.a.createElement(kt,{handleNext:c})),2===l&&r.a.createElement(K.a,null,r.a.createElement(Qe,{handleNext:c})),3===l&&r.a.createElement(Je,{handleNext:c}),4===l&&r.a.createElement(Pt,{setAppState:e.setAppState})))},Mt=a(237),Ut=a(249),Lt=a(238),Vt=a(106),qt=a.n(Vt),zt=Object(v.a)({root:{maxWidth:"100%"},deleteButton:{margin:5},header:{marginBottom:10},inputDelete:{marginBottom:10,marginTop:10}});function Zt(e){var t=zt(),a=r.a.useState(""),n=Object(d.a)(a,2),l=n[0],o=n[1],c=r.a.useRef(null);r.a.useEffect((function(){if(e.settings){var t=c.current;null!==t&&t.focus()}}),[e.settings]);return r.a.createElement(Oe.a,{open:e.settings,onClose:e.toggleProjectSettings,scroll:"paper",fullWidth:!0,maxWidth:"sm","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(ke.a,{id:"scroll-dialog-title"},"Project '",e.id,"' settings"),r.a.createElement(Ce.a,{dividers:!0},r.a.createElement(y.a,{variant:"h4",className:t.header},"Delete project"),r.a.createElement(y.a,null,"Delete your project by typing the project name '",e.id,"' below."),r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault();var a=M+"project/".concat(e.id,"/delete");we.a.delete(a).then((function(t){e.refreshProjects(),e.toggleProjectSettings()})).catch((function(t){console.log("Failed to delete project"),e.refreshProjects(),e.toggleProjectSettings()}))}},r.a.createElement(ut.a,{className:t.inputDelete,fullWidth:!0,required:!0,name:"project-name",id:"project-name",label:"Project name",onChange:function(e){o(e.target.value)}}),r.a.createElement("div",null,r.a.createElement(De.a,{className:t.deleteButton,variant:"contained",color:"primary",disabled:l!==e.id,type:"submit"},"Delete")))),r.a.createElement(Re.a,null,r.a.createElement(De.a,{onClick:e.toggleProjectSettings,color:"primary"},"Close")))}var Qt=Object(v.a)({root:{maxWidth:"100%"},media:{height:140}}),Yt=function(e){var t=Qt(),a=r.a.useState(!1),n=Object(d.a)(a,2),l=n[0],o=n[1],c=function(){console.log("Open settings project "+e.id),o((function(e){return!e}))};return r.a.createElement(at.a,{className:t.root},r.a.createElement(Rt.a,null,r.a.createElement(rt.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name),r.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"p"},e.description))),r.a.createElement(lt.a,null,r.a.createElement(De.a,{size:"small",color:"primary",onClick:function(){console.log("Opening existing project "+e.id),u.dispatch(mt(e.id)),e.setAppState("review")}},"Open"),r.a.createElement(De.a,{size:"small",color:"primary",onClick:c},"Settings")),r.a.createElement(Zt,{id:e.id,settings:l,toggleProjectSettings:c,refreshProjects:e.refreshProjects}))},Jt=Object(v.a)((function(e){return{root:{paddingTop:"24px"},absolute:{position:"absolute",bottom:e.spacing(2),right:e.spacing(3)},noProjects:{opacity:.5}}})),Gt=function(e){var t=Jt(),a=Object(n.useState)({projects:[],loaded:!1}),l=Object(d.a)(a,2),o=l[0],c=l[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){var e=M+"projects";we.a.get(e).then((function(e){c({projects:e.data.result,loaded:!0})})).catch((function(e){console.log(e)}))};return r.a.createElement(re.a,{maxWidth:"md",className:t.root},o.loaded&&0===o.projects.length&&r.a.createElement(K.a,{className:t.noProjects},r.a.createElement(y.a,{variant:"h5",align:"center"},"You don't have any projects yet."),r.a.createElement(K.a,{fontStyle:"italic"},r.a.createElement(y.a,{align:"center"},"Start a review by clicking on the red button in the bottom left corner."))),o.loaded&&0!==o.projects.length&&r.a.createElement(Mt.a,{container:!0,spacing:3},o.projects.map((function(a){return r.a.createElement(Mt.a,{item:!0,sm:4,key:a.id},r.a.createElement(Yt,{className:t.paper,id:a.id,name:a.name,description:a.description,setAppState:e.setAppState,refreshProjects:i}))}))),r.a.createElement(Ut.a,{title:"Start new project","aria-label":"add"},r.a.createElement(Lt.a,{color:"secondary",className:t.absolute,onClick:function(){e.setAppState("review-init")}},r.a.createElement(qt.a,null))))},Kt=(a(152),Object(v.a)((function(e){return{background:{backgroundColor:"#8D6E63",height:"100%",width:"100%",position:"absolute"},root:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},logo_single:{margin:"auto",width:160,fill:"white"},logo:{margin:"auto",width:380,fill:"white"},plusicon:{marginTop:"50px",marginBottom:"50px"},title:{textAlign:"center",marginTop:"18px",fontSize:"30px",color:"white"},error:{textAlign:"center",marginTop:"18px",fontSize:"30px",backgroundColor:"#FFF"},title_small:{fontSize:"20px"}}}))),Xt=function(e){var t=Kt(),a=Object(n.useState)(!0),l=Object(d.a)(a,2),o=l[0],c=l[1],i=Object(n.useState)(!1),s=Object(d.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)("asreview"),E=Object(d.a)(p,2),f=E[0],g=E[1];return Object(n.useEffect)((function(){(function(){var t=Object(Nt.a)(_t.a.mark((function t(){return _t.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,we.a.get(M+"boot").then((function(t){console.log("Boot status: "+t.data.status),g(t.data.status),m(!0),"development"===t.data.status&&e.setAppState("projects")})).catch((function(e){console.log("Boot status: error"),g("error"),m(!0)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),u?"error"===f?r.a.createElement(K.a,{className:t.background},r.a.createElement(y.a,{className:t.error,color:"error"},"Error - failed to connect with server")):r.a.createElement(he.a,{in:o,timeout:{enter:0,exit:600},mountOnEnter:!0,unmountOnExit:!0,onEnter:function(){setTimeout((function(){c(!1)}),4e3)},onExited:function(){e.setAppState("projects")}},r.a.createElement(K.a,{className:t.background},r.a.createElement(K.a,{className:t.root},r.a.createElement("div",{className:"asreview"===f?t.logo_single:t.logo},r.a.createElement("span",null,r.a.createElement("svg",{width:"160px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M17.3,3.9a4.4,4.4,0,0,0,2.4-1A1.2,1.2,0,0,0,19.6,1,3.9,3.9,0,0,0,17.1.3a6.4,6.4,0,0,0-2.7.7,5.7,5.7,0,0,0-2.7,3.4c-3.6.1-6.8,3.5-7.1,7.9A8.6,8.6,0,0,0,8,20c-1.2.3-2,1-2,1.8s1.3,1.8,2.9,1.8a3,3,0,0,0,2.7-1.2,3.4,3.4,0,0,0,2.8,1.2c1.6,0,2.9-.8,2.9-1.8s-.9-1.6-2.2-1.8a8.8,8.8,0,0,0,3.6-6.7c.3-4.2-2.1-7.9-5.5-8.7a2.9,2.9,0,0,1,1.3-.5A24.6,24.6,0,0,1,17.3,3.9ZM14.8,8.7a1.7,1.7,0,0,1,1.6,1.7v1.3a1.6,1.6,0,0,1-1.6,1.6H8.5a1.6,1.6,0,0,1-1.6-1.6V10.4A1.7,1.7,0,0,1,8.5,8.7Z"}),r.a.createElement("path",{d:"M7.9,11.7a.5.5,0,0,0,.5.4.4.4,0,0,0,.4-.4.9.9,0,0,1,.8-.8.9.9,0,0,1,.8.8.4.4,0,0,0,.4.4.5.5,0,0,0,.5-.4A1.8,1.8,0,0,0,9.6,10,1.8,1.8,0,0,0,7.9,11.7Z"}),r.a.createElement("path",{d:"M12.5,12.1a.4.4,0,0,0,.4-.4.8.8,0,1,1,1.6,0,.4.4,0,0,0,.4.4.5.5,0,0,0,.5-.4,1.7,1.7,0,0,0-3.4,0A.5.5,0,0,0,12.5,12.1Z"}))),"asreview-covid19"===f&&r.a.createElement("span",null,r.a.createElement("svg",{width:"60px",className:t.plusicon,viewBox:"0 0 24 24","aria-hidden":"true"},r.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})),r.a.createElement("svg",{width:"160px",className:"rotate",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M18.7,12.1c0,.9.3,1.5.7,1.5s.7-.8.7-1.7-.4-1.7-.8-1.7-.6.6-.7,1.5h-1A7.9,7.9,0,0,0,17,9.5l.9-.5c.5.7,1.1,1.1,1.4.9s.2-1-.3-1.9-1.1-1.3-1.4-1.1-.3.9.1,1.6l-.9.6a9.1,9.1,0,0,0-1.7-1.7l.5-.9c.8.3,1.5.4,1.6.1s-.3-1-1.1-1.5-1.6-.6-1.8-.2.2.9.9,1.3l-.5,1h0a7.7,7.7,0,0,0-2.6-.7V5.4c.9,0,1.5-.3,1.5-.7S12.8,4,11.9,4s-1.7.4-1.7.8.6.6,1.5.6V6.5a4.4,4.4,0,0,0-2.3.6h0l-.6-.9c.6-.5,1-1.1.8-1.4s-1-.1-1.8.4-1.3,1.2-1,1.6.9.1,1.6-.3l.6.9A4.9,4.9,0,0,0,7,9.1l-.9-.6c.4-.7.4-1.4.1-1.6s-1,.3-1.4,1.2-.6,1.6-.3,1.8.9-.2,1.4-.9l.9.5a3.9,3.9,0,0,0-.6,2.1H5.1c0-.8-.3-1.4-.7-1.4s-.7.7-.7,1.7.3,1.7.7,1.7.7-.6.7-1.5H6.2a4.8,4.8,0,0,0,.7,2.4l-.9.6c-.5-.6-1.1-1-1.4-.8s-.2,1.1.4,1.8,1.3,1.3,1.6,1,.1-.9-.3-1.6l.9-.6a5.2,5.2,0,0,0,1.7,1.6h0l-.5,1c-.7-.3-1.5-.3-1.6,0s.4.9,1.3,1.3,1.6.5,1.8.1-.3-.8-1-1.2l.4-1a6,6,0,0,0,2.4.5h-.1v1.2c-.8,0-1.4.3-1.4.7s.7.7,1.7.7,1.7-.4,1.7-.7-.6-.7-1.5-.7V17.2h0a5.9,5.9,0,0,0,2.3-.5l.6.9c-.7.5-1.1,1.1-.9,1.4s1,.1,1.8-.4,1.3-1.2,1.1-1.5-.9-.2-1.6.2l-.6-.8a5.2,5.2,0,0,0,1.9-1.7l.9.5c-.4.8-.4,1.5-.1,1.6s1-.3,1.4-1.1.6-1.7.3-1.8-.9.2-1.4.9l-.9-.5a6.2,6.2,0,0,0,.7-2.3Z"})))),r.a.createElement(y.a,{className:t.title},"ASReview","asreview-covid19"===f&&r.a.createElement("span",null,r.a.createElement("span",{className:t.title_small}," against")," COVID-19"))))):""},$t=(a(153),function(){var e=Object(n.useState)({palette:{type:"light",primary:g.a}}),t=Object(d.a)(e,2),a=t[0],l=t[1],o=Object(m.a)(a),c=r.a.useState("boot"),i=Object(d.a)(c,2),s=i[0],u=i[1],f=r.a.useState(!1),h=Object(d.a)(f,2),b=h[0],v=h[1],x=r.a.useState(!1),j=Object(d.a)(x,2),w=j[0],y=j[1],S=r.a.useState(!1),O=Object(d.a)(S,2),k=O[0],C=O[1],_=r.a.useState(!1),N=Object(d.a)(_,2),R=N[0],D=N[1],A=r.a.useState(!1),T=Object(d.a)(A,2),B=T[0],W=T[1],I=function(){var e="light"===a.palette.type?"dark":"light";l({palette:{type:e,primary:g.a}})},P=function(){y((function(e){return!e}))},H=function(){C((function(e){return!e}))},F=Object(n.useState)(!1),M=Object(d.a)(F,2),U=M[0],L=M[1],V=function(e){L(e)};return console.log("Current step: "+s),r.a.createElement(E.a,{theme:o},r.a.createElement(p.a,null),"boot"===s&&r.a.createElement(Xt,{setAppState:u}),"boot"!==s&&r.a.createElement(G,{appState:s,setAppState:u,reviewDrawerState:U,handleReviewDrawer:V,toggleDarkTheme:I,handleClickOpen:function(){v(!0)},handleHistoryOpen:function(){D(!0)},toggleExit:P,toggleExportResult:H}),"projects"===s&&r.a.createElement(Gt,{setAppState:u}),"review-init"===s&&r.a.createElement(Ft,{setAppState:u}),"review"===s&&r.a.createElement(Se,{reviewDrawerState:U,handleReviewDrawer:V,showAuthors:B}),r.a.createElement(Ae,{openSettings:b,handleClose:function(){v(!1)},toggleDarkTheme:I,toggleAuthors:function(){W((function(e){return!e}))},onDark:a,showAuthors:B}),r.a.createElement(Te,{openHistory:R,handleHistoryClose:function(){D(!1)}}),r.a.createElement(Be,{toggleExit:P,exit:w}),r.a.createElement(We,{toggleExportResult:H,exportResult:k}))});Object(l.render)(r.a.createElement(o.a,{store:u},r.a.createElement($t,null)),document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.4835fd5a.chunk.js.map