{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///indico/modules/categories/client/js/index.js","webpack:///indico/modules/categories/client/js/display.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","139","exports","module","l","e","Promise","resolve","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","__webpack_exports__","_","global","setupCategoryStats","$","document","ready","each","__","element","$this","xMin","xMax","yMin","yMax","currentYear","Date","getFullYear","current","options","axes","xaxis","label","max","min","tickOptions","showGridline","yaxis","height","highlighter","location","tooltipAxes","tooltipSeparator","series","fillAlpha","fill","fillAndStroke","markerOptions","color","style","width","pairs","map","datum","parseInt","plot","jqplot","id","processJqPlotOptions","resize","replot","resetAxes","setupCategoryDisplaySubcatList","url","undefined","ajax","dataType","success","event_counts","count","text","$T","ngettext","format","pretty","gettext","setupCategoryDisplayEventList","showFutureEvents","showPastEvents","$eventList","$futureEvents","find","$pastEvents","setupToggleEventListButton","wrapper","callback","$wrapper","$content","updateMessage","visible","toggle","displaySpinner","is","on","evt","triggeredAutomatically","preventDefault","before","after","error","handleAjaxError","html","show","hide","shown","method","first","trigger","setupCategoryDisplay","this","isFavorite","hasClass","prop","toggleClass","complete","qtip","fixed","delay","content"],"mappings":"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","file":"js/module_categories.02253da6.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t139: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// The chunk loading function for additional chunks\n \t// Since all referenced chunks are already included\n \t// in this file, this function is empty here.\n \t__webpack_require__.e = function requireEnsure() {\n \t\treturn Promise.resolve();\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \tvar jsonpArray = window[\"coreJsonp\"] = window[\"coreJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1671,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// This file is part of Indico.\n// Copyright (C) 2002 - 2019 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\nimport './display';\n\n(function(global) {\n  global.setupCategoryStats = function setupCategoryStats() {\n    $(document).ready(() => {\n      $('.plot-container .plot').each((__, element) => {\n        const $this = $(element);\n        const xMin = $this.data('min-x');\n        const xMax = $this.data('max-x');\n        const yMin = $this.data('min-y');\n        const yMax = $this.data('max-y');\n\n        var data = $this.data('values') || {};\n\n        const currentYear = new Date().getFullYear();\n        const current = [[currentYear, data[currentYear]]];\n\n        const options = {\n          axes: {\n            xaxis: {\n              label: $this.data('label-xaxis'),\n              max: xMax,\n              min: xMin,\n              tickOptions: {showGridline: false},\n            },\n            yaxis: {\n              label: $this.data('label-yaxis'),\n              max: yMax,\n              min: yMin,\n            },\n          },\n          height: 400,\n          highlighter: {\n            location: 'n',\n            tooltipAxes: 'yx',\n            tooltipSeparator: $this.data('tooltip'),\n          },\n          series: [\n            {\n              fillAlpha: 0.9,\n              fill: true,\n              fillAndStroke: true,\n            },\n            {\n              markerOptions: {\n                color: '#005272',\n                style: 'circle',\n              },\n            },\n          ],\n          width: 400,\n        };\n        data = [_.pairs(data).map(datum => [parseInt(datum[0], 10), datum[1]]), current];\n        const plot = global.$.jqplot(element.id, data, global.processJqPlotOptions(options));\n        $(window).resize(() => {\n          plot.replot({resetAxes: true});\n        });\n      });\n    });\n  };\n})(window);\n","// This file is part of Indico.\n// Copyright (C) 2002 - 2019 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\n(function(global) {\n  'use strict';\n\n  global.setupCategoryDisplaySubcatList = function setupCategoryDisplaySubcatList() {\n    var url = $('.category-list').data('subcat-info-url');\n    if (url === undefined) {\n      // there's no .category-list if there are no subcategories\n      return;\n    }\n    $.ajax({\n      url: url,\n      dataType: 'json',\n      success: function(data) {\n        _.each(data.event_counts, function(count, id) {\n          var text = !count.value\n            ? $T.gettext('empty')\n            : $T.ngettext('{0} event', '{0} events', count.value).format(count.pretty);\n          $('#category-event-count-' + id).text(text);\n        });\n      },\n    });\n  };\n\n  global.setupCategoryDisplayEventList = function setupCategoryDisplayEventList(\n    showFutureEvents,\n    showPastEvents\n  ) {\n    var $eventList = $('.event-list');\n    var $futureEvents = $eventList.find('.future-events');\n    var $pastEvents = $eventList.find('.past-events');\n\n    setupToggleEventListButton($futureEvents, onToggleFutureEvents);\n    setupToggleEventListButton($pastEvents, onTogglePastEvents);\n\n    if (showFutureEvents) {\n      $futureEvents\n        .find('.js-toggle-list')\n        .first()\n        .trigger('click', true);\n    }\n\n    if (showPastEvents) {\n      $pastEvents\n        .find('.js-toggle-list')\n        .first()\n        .trigger('click', true);\n    }\n\n    function onToggleFutureEvents(shown) {\n      $.ajax({\n        url: $eventList.data('show-future-events-url'),\n        method: shown ? 'PUT' : 'DELETE',\n        error: handleAjaxError,\n      });\n    }\n\n    function onTogglePastEvents(shown) {\n      $.ajax({\n        url: $eventList.data('show-past-events-url'),\n        method: shown ? 'PUT' : 'DELETE',\n        error: handleAjaxError,\n      });\n    }\n\n    function setupToggleEventListButton(wrapper, callback) {\n      var $wrapper = $(wrapper);\n      var $content = $wrapper.find('.events');\n\n      function updateMessage(visible) {\n        $wrapper.find('.js-hide-message').toggle(visible);\n        $wrapper.find('.js-show-message').toggle(!visible);\n      }\n      updateMessage(!$content.is(':empty'));\n\n      function displaySpinner(visible) {\n        $wrapper.find('.js-toggle-list').toggle(!visible);\n        $wrapper.find('.js-spinner').toggle(visible);\n      }\n      displaySpinner(false);\n\n      $wrapper.find('.js-toggle-list').on('click', function(evt, triggeredAutomatically) {\n        evt.preventDefault();\n        var visible;\n        if ($content.is(':empty')) {\n          visible = true;\n          displaySpinner(true);\n          $.ajax({\n            url: $content.data('event-list-url'),\n            data: {\n              before: $content.data('event-list-before'),\n              after: $content.data('event-list-after'),\n            },\n            error: handleAjaxError,\n            success: function(data) {\n              $content.html(data.html);\n              $content.show();\n              updateMessage(true);\n              displaySpinner(false);\n            },\n          });\n        } else if ($content.is(':visible')) {\n          visible = false;\n          $content.hide();\n          updateMessage(false);\n        } else {\n          visible = true;\n          $content.show();\n          updateMessage(true);\n        }\n        if (!triggeredAutomatically && callback) {\n          callback(visible);\n        }\n      });\n    }\n  };\n\n  global.setupCategoryDisplay = function setupCategoryDisplay() {\n    'use strict';\n\n    $('.fav-button')\n      .on('click', function() {\n        var $this = $(this);\n        var isFavorite = $this.hasClass('enabled');\n        $this.prop('disabled', true);\n        $.ajax({\n          url: $this.data('href'),\n          method: isFavorite ? 'DELETE' : 'PUT',\n          error: handleAjaxError,\n          success: function() {\n            $this.toggleClass('enabled', !isFavorite);\n          },\n          complete: function() {\n            $this.prop('disabled', false);\n          },\n        });\n      })\n      .qtip({\n        hide: {\n          fixed: true,\n          delay: 500,\n        },\n        content: {\n          text: function() {\n            var $this = $(this);\n            if ($this.hasClass('enabled')) {\n              return $T.gettext('Remove from your favourites');\n            } else {\n              return '<h3>{0}</h3><p>{1}</p>'.format(\n                $T.gettext('Add to your favourites'),\n                $T\n                  .gettext(\n                    'This will make events in this category visible on your <a href=\"{0}\">Dashboard</a>.'\n                  )\n                  .format($this.data('favorites-href'))\n              );\n            }\n          },\n        },\n      });\n  };\n})(window);\n"],"sourceRoot":""}