!function(t){function e(e){for(var r,i,s=e[0],l=e[1],u=e[2],f=0,d=[];f<s.length;f++)i=s[f],o[i]&&d.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);for(c&&c(e);d.length;)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={139:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(){return Promise.resolve()},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/";var s=window.coreJsonp=window.coreJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=l;a.push([1671,0]),n()}({1671:function(t,e,n){t.exports=n(1672)},1672:function(t,e,n){"use strict";n.r(e),function(t){var e;n(1673);(e=window).setupCategoryStats=function(){$(document).ready(()=>{$(".plot-container .plot").each((n,r)=>{const o=$(r),a=o.data("min-x"),i=o.data("max-x"),s=o.data("min-y"),l=o.data("max-y");var u=o.data("values")||{};const c=(new Date).getFullYear(),f=[[c,u[c]]],d={axes:{xaxis:{label:o.data("label-xaxis"),max:i,min:a,tickOptions:{showGridline:!1}},yaxis:{label:o.data("label-yaxis"),max:l,min:s}},height:400,highlighter:{location:"n",tooltipAxes:"yx",tooltipSeparator:o.data("tooltip")},series:[{fillAlpha:.9,fill:!0,fillAndStroke:!0},{markerOptions:{color:"#005272",style:"circle"}}],width:400};u=[t.pairs(u).map(t=>[parseInt(t[0],10),t[1]]),f];const p=e.$.jqplot(r.id,u,e.processJqPlotOptions(d));$(window).resize(()=>{p.replot({resetAxes:!0})})})})}}.call(this,n(42))},1673:function(t,e,n){(function(t){!function(e){"use strict";e.setupCategoryDisplaySubcatList=function(){var e=$(".category-list").data("subcat-info-url");void 0!==e&&$.ajax({url:e,dataType:"json",success:function(e){t.each(e.event_counts,function(t,e){var n=t.value?$T.ngettext("{0} event","{0} events",t.value).format(t.pretty):$T.gettext("empty");$("#category-event-count-"+e).text(n)})}})},e.setupCategoryDisplayEventList=function(t,e){var n=$(".event-list"),r=n.find(".future-events"),o=n.find(".past-events");function a(t,e){var n=$(t),r=n.find(".events");function o(t){n.find(".js-hide-message").toggle(t),n.find(".js-show-message").toggle(!t)}function a(t){n.find(".js-toggle-list").toggle(!t),n.find(".js-spinner").toggle(t)}o(!r.is(":empty")),a(!1),n.find(".js-toggle-list").on("click",function(t,n){var i;t.preventDefault(),r.is(":empty")?(i=!0,a(!0),$.ajax({url:r.data("event-list-url"),data:{before:r.data("event-list-before"),after:r.data("event-list-after")},error:handleAjaxError,success:function(t){r.html(t.html),r.show(),o(!0),a(!1)}})):r.is(":visible")?(i=!1,r.hide(),o(!1)):(i=!0,r.show(),o(!0)),!n&&e&&e(i)})}a(r,function(t){$.ajax({url:n.data("show-future-events-url"),method:t?"PUT":"DELETE",error:handleAjaxError})}),a(o,function(t){$.ajax({url:n.data("show-past-events-url"),method:t?"PUT":"DELETE",error:handleAjaxError})}),t&&r.find(".js-toggle-list").first().trigger("click",!0),e&&o.find(".js-toggle-list").first().trigger("click",!0)},e.setupCategoryDisplay=function(){$(".fav-button").on("click",function(){var t=$(this),e=t.hasClass("enabled");t.prop("disabled",!0),$.ajax({url:t.data("href"),method:e?"DELETE":"PUT",error:handleAjaxError,success:function(){t.toggleClass("enabled",!e)},complete:function(){t.prop("disabled",!1)}})}).qtip({hide:{fixed:!0,delay:500},content:{text:function(){var t=$(this);return t.hasClass("enabled")?$T.gettext("Remove from your favourites"):"<h3>{0}</h3><p>{1}</p>".format($T.gettext("Add to your favourites"),$T.gettext('This will make events in this category visible on your <a href="{0}">Dashboard</a>.').format(t.data("favorites-href")))}}})}}(window)}).call(this,n(42))}});
//# sourceMappingURL=module_categories.02253da6.bundle.js.map